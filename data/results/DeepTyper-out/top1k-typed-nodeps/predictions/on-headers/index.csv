Text
/*!\n * on-headers\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */Comment.Multiline
\n\nText.Whitespace
'use strict'Literal.String.Single
\n\nText.Whitespace
Text
/**\n * Module exports.\n * @public\n */Comment.Multiline
\n\nText.Whitespace
moduleKeyword.Reserved
.exportsName.Other
 Text.Whitespace
=Operator
 Text.Whitespace
onHeadersName.Otherany0.4157string0.3074boolean0.0511void0.0343number0.0283
\n\nText.Whitespace
Text
/**\n * Create a replacement writeHead method.\n *\n * @param {function} prevWriteHead\n * @param {function} listener\n * @private\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
createWriteHeadName.Otherany0.4965string0.2163void0.1203boolean0.0430complex0.0297
 Text.Whitespace
(Punctuation
prevWriteHeadName.Otherany0.7139string0.2305boolean0.0179number0.0093Function0.0048
,Punctuation
 Text.Whitespace
listenerName.Otherany0.7248Function0.2224string0.0073boolean0.0039void0.0021
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
firedName.Otherboolean0.9806any0.0138number0.0012string0.0008void0.0006
 Text.Whitespace
=Operator
 Text.Whitespace
falseKeyword.Constant
\n\n  Text.Whitespace
// return function with core name and argument listComment.Single
\n  Text.Whitespace
returnKeyword
 Text.Whitespace
functionKeyword.Declaration
 Text.Whitespace
writeHeadName.Otherany0.8322complex0.0415boolean0.0201any[]0.0166void0.0165
 Text.Whitespace
(Punctuation
statusCodeName.Otherany0.8376number0.1224string0.0321boolean0.0046complex0.0004
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
// set headers from argumentsComment.Single
\n    Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
argsName.Otherany0.8711any[]0.0792IArguments0.0165string[]0.0047Function0.0028
 Text.Whitespace
=Operator
 Text.Whitespace
setWriteHeadHeadersName.Otherany0.8880any[]0.0234Function0.0162boolean0.0120void0.0102
.Punctuation
applyName.Otherany0.9906any[]0.0024number0.0020complex0.0010void0.0006
(Punctuation
thisKeyword
,Punctuation
 Text.Whitespace
argumentsName.OtherIArguments0.9975any[]0.0008any0.0004string[]0.0001string0.0000
)Punctuation
\n\n    Text.Whitespace
// fire listenerComment.Single
\n    Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
!Operator
firedName.Otherboolean0.6400any0.3058string0.0223number0.0091any[]0.0047
)Punctuation
 Text.Whitespace
{Punctuation
\n      Text.Whitespace
firedName.Otherboolean0.9652any0.0280number0.0015void0.0014string0.0008
 Text.Whitespace
=Operator
 Text.Whitespace
trueKeyword.Constant
\n      Text.Whitespace
listenerName.Otherany0.9000Function0.0608void0.0192boolean0.0043number0.0021
.Punctuation
callName.Otherany0.9967number0.0009void0.0006complex0.0003Function0.0003
(Punctuation
thisKeyword
)Punctuation
\n\n      Text.Whitespace
// pass-along an updated status codeComment.Single
\n      Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
typeofOperator.Word
 Text.Whitespace
argsName.Otherany[]0.6167any0.2968string[]0.0311IArguments0.0211number[]0.0035
[Punctuation
0Literal.Number.Float
]Punctuation
 Text.Whitespace
===Operator
 Text.Whitespace
'number'Literal.String.Single
 Text.Whitespace
&&Operator
 Text.Whitespace
thisKeyword
.Punctuation
statusCodeName.Otherany0.5820number0.3832string0.0249boolean0.0064void0.0007
 Text.Whitespace
!==Operator
 Text.Whitespace
argsName.Otherany0.4582any[]0.4206string[]0.0729IArguments0.0101string0.0079
[Punctuation
0Literal.Number.Float
]Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n        Text.Whitespace
argsName.Otherany0.5343any[]0.3842string[]0.0364IArguments0.0107complex0.0034
[Punctuation
0Literal.Number.Float
]Punctuation
 Text.Whitespace
=Operator
 Text.Whitespace
thisKeyword
.Punctuation
statusCodeName.Otherany0.7293number0.2485string0.0145boolean0.0025any[]0.0013
\n        Text.Whitespace
argsName.Otherany0.5362any[]0.3263string[]0.0356IArguments0.0181string0.0046
.Punctuation
lengthName.Othernumber0.6908any0.3058string0.0012complex0.0008void0.0005
 Text.Whitespace
=Operator
 Text.Whitespace
1Literal.Number.Float
\n      Text.Whitespace
}Punctuation
\n    Text.Whitespace
}Punctuation
\n\n    Text.Whitespace
returnKeyword
 Text.Whitespace
prevWriteHeadName.Otherany0.6651void0.1379Function0.0426boolean0.0228string0.0189
.Punctuation
applyName.Otherany0.9861void0.0035number0.0018any[]0.0018complex0.0017
(Punctuation
thisKeyword
,Punctuation
 Text.Whitespace
argsName.Otherany[]0.7837any0.1170IArguments0.0468string[]0.0231number[]0.0012
)Punctuation
\n  Text.Whitespace
}Punctuation
\nText.Whitespace
}Punctuation
\n\nText.Whitespace
Text
/**\n * Execute a listener when a response is about to write headers.\n *\n * @param {object} res\n * @return {function} listener\n * @public\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
onHeadersName.Othervoid0.9852any0.0094string0.0010complex0.0007boolean0.0006
 Text.Whitespace
(Punctuation
resName.Otherany0.6878Response0.0661string0.0380void0.0320Buffer0.0161
,Punctuation
 Text.Whitespace
listenerName.Otherany0.7438Function0.1917void0.0219string0.0107number0.0028
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
!Operator
resName.Otherany0.6586Response0.1369boolean0.0343string0.0126void0.0076
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
throwKeywordany0.5081complex0.2652Error0.0439boolean0.0363{}0.0361
 Text.Whitespace
newOperator.Wordany0.4742complex0.0744boolean0.0568string0.0476Error0.0376
 Text.Whitespace
TypeErrorName.ExceptionTypeErrorConstructor0.9890ErrorConstructor0.0023BooleanConstructor0.0002complex0.0002undefined0.0001
(Punctuation
'argument res is required'Literal.String.Single
)Punctuation
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
typeofOperator.Word
 Text.Whitespace
listenerName.Otherany0.8381Function0.0935void0.0114string0.0086complex0.0069
 Text.Whitespace
!==Operator
 Text.Whitespace
'function'Literal.String.Single
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
throwKeywordany0.5392complex0.2782Error0.0786{}0.0182boolean0.0154
 Text.Whitespace
newOperator.Wordany0.3630complex0.0764boolean0.0535Error0.0507string0.0414
 Text.Whitespace
TypeErrorName.ExceptionTypeErrorConstructor0.9874ErrorConstructor0.0030complex0.0002BooleanConstructor0.0001MapConstructor0.0001
(Punctuation
'argument listener must be a function'Literal.String.Single
)Punctuation
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
resName.Otherany0.8598Response0.0119complex0.0080void0.0061any[]0.0029
.Punctuation
writeHeadName.Otherany0.9791complex0.0042string0.0038number0.0031void0.0023
 Text.Whitespace
=Operator
 Text.Whitespace
createWriteHeadName.Otherany0.5487void0.2405complex0.0527boolean0.0459string0.0374
(Punctuation
resName.Otherany0.9106complex0.0225Response0.0035void0.0013any[]0.0009
.Punctuation
writeHeadName.Otherany0.9826string0.0087complex0.0024number0.0022boolean0.0013
,Punctuation
 Text.Whitespace
listenerName.Otherany0.8657void0.0689Function0.0318string0.0123boolean0.0031
)Punctuation
\nText.Whitespace
}Punctuation
\n\nText.Whitespace
Text
/**\n * Set headers contained in array on the response object.\n *\n * @param {object} res\n * @param {array} headers\n * @private\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
setHeadersFromArrayName.Othervoid0.9838any0.0089complex0.0009number0.0007string0.0007
 Text.Whitespace
(Punctuation
resName.Otherany0.6147Response0.0966string0.0221void0.0174Buffer0.0120
,Punctuation
 Text.Whitespace
headersName.Otherany0.4447complex0.1466Object0.1194any[]0.0486Headers0.0326
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
forKeyword
 Text.Whitespace
(Punctuation
varKeyword.Declaration
 Text.Whitespace
iName.Othernumber0.9954any0.0041string0.0002boolean0.0001number[]0.0000
 Text.Whitespace
=Operator
 Text.Whitespace
0Literal.Number.Float
;Punctuation
 Text.Whitespace
iName.Othernumber0.9835any0.0151string0.0005void0.0004complex0.0001
 Text.Whitespace
<Operator
 Text.Whitespace
headersName.Otherany0.2667any[]0.1567complex0.1268Object0.0637string[]0.0247
.Punctuation
lengthName.Othernumber0.9697any0.0289string0.0008complex0.0002void0.0002
;Punctuation
 Text.Whitespace
iName.Othernumber0.9859any0.0132string0.0004void0.0001boolean0.0001
++Operator
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
resName.Otherany0.9742Response0.0031complex0.0012void0.0011string0.0005
.Punctuation
setHeaderName.Otherany0.9049void0.0859complex0.0015string0.0011Promise<void>0.0007
(Punctuation
headersName.Otherany0.4190any[]0.1331complex0.0699Object0.0475{}0.0467
[Punctuation
iName.Othernumber0.9061any0.0792string0.0131void0.0005complex0.0002
]Punctuation
[Punctuation
0Literal.Number.Float
]Punctuation
,Punctuation
 Text.Whitespace
headersName.Otherany0.3029Object0.1579any[]0.1177complex0.0847{}0.0541
[Punctuation
iName.Othernumber0.9367any0.0556string0.0066void0.0003complex0.0002
]Punctuation
[Punctuation
1Literal.Number.Float
]Punctuation
)Punctuation
\n  Text.Whitespace
}Punctuation
\nText.Whitespace
}Punctuation
\n\nText.Whitespace
Text
/**\n * Set headers contained in object on the response object.\n *\n * @param {object} res\n * @param {object} headers\n * @private\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
setHeadersFromObjectName.Othervoid0.9281any0.0498complex0.0039string0.0031number0.0020
 Text.Whitespace
(Punctuation
resName.Otherany0.7300Response0.0816string0.0142void0.0137Object0.0061
,Punctuation
 Text.Whitespace
headersName.Otherany0.4539complex0.1903Object0.1580any[]0.0383{}0.0261
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
keysName.Otherstring[]0.9674any[]0.0164any0.0060string0.0054number[]0.0016
 Text.Whitespace
=Operator
 Text.Whitespace
ObjectName.BuiltinObjectConstructor0.9999Object0.0000any0.0000complex0.0000Object[]0.0000
.Punctuation
keysName.Otherstring[]0.9970any[]0.0011string0.0004complex0.0003number[]0.0003
(Punctuation
headersName.Othercomplex0.4828any0.2664Object0.0869{}0.0592any[]0.0365
)Punctuation
\n  Text.Whitespace
forKeyword
 Text.Whitespace
(Punctuation
varKeyword.Declaration
 Text.Whitespace
iName.Othernumber0.9964any0.0031string0.0002void0.0001boolean0.0000
 Text.Whitespace
=Operator
 Text.Whitespace
0Literal.Number.Float
;Punctuation
 Text.Whitespace
iName.Othernumber0.9861any0.0117string0.0009void0.0007complex0.0001
 Text.Whitespace
<Operator
 Text.Whitespace
keysName.Otherstring[]0.9752any0.0096any[]0.0088string0.0019number[]0.0013
.Punctuation
lengthName.Othernumber0.9695any0.0289string0.0009void0.0002complex0.0001
;Punctuation
 Text.Whitespace
iName.Othernumber0.9825any0.0166string0.0005void0.0002boolean0.0001
++Operator
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
kName.Otherstring0.8196any0.1700number0.0082string[]0.0006complex0.0004
 Text.Whitespace
=Operator
 Text.Whitespace
keysName.Otherstring[]0.9542any0.0237any[]0.0138string0.0026number[]0.0016
[Punctuation
iName.Othernumber0.9889any0.0084string0.0023void0.0001boolean0.0001
]Punctuation
\n    Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
kName.Otherstring0.8912any0.0802number0.0219boolean0.0030complex0.0019
)Punctuation
 Text.Whitespace
resName.Otherany0.9642complex0.0138void0.0040Response0.0029string0.0011
.Punctuation
setHeaderName.Otherany0.9111void0.0749complex0.0043string0.0017boolean0.0013
(Punctuation
kName.Otherstring0.9654any0.0317number0.0019string[]0.0004complex0.0003
,Punctuation
 Text.Whitespace
headersName.Otherany0.3262complex0.2587{}0.1495Object0.1271any[]0.0298
[Punctuation
kName.Otherstring0.9475any0.0397number0.0103complex0.0016string[]0.0002
]Punctuation
)Punctuation
\n  Text.Whitespace
}Punctuation
\nText.Whitespace
}Punctuation
\n\nText.Whitespace
Text
/**\n * Set headers and other properties on the response object.\n *\n * @param {number} statusCode\n * @private\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
setWriteHeadHeadersName.Otherany0.6884void0.0683string0.0424complex0.0420number0.0300
 Text.Whitespace
(Punctuation
statusCodeName.Otherany0.5281number0.2840string0.1782boolean0.0029complex0.0006
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
lengthName.Othernumber0.9300any0.0664string0.0021void0.0004boolean0.0003
 Text.Whitespace
=Operator
 Text.Whitespace
argumentsName.OtherIArguments0.9900any[]0.0035any0.0017string[]0.0017string0.0001
.Punctuation
lengthName.Othernumber0.9610any0.0364string0.0015complex0.0004boolean0.0002
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
headerIndexName.Otherany0.4225string[]0.3196any[]0.0886string0.0522boolean0.0428
 Text.Whitespace
=Operator
 Text.Whitespace
lengthName.Othernumber0.9285any0.0686string0.0018boolean0.0002complex0.0002
 Text.Whitespace
>Operator
 Text.Whitespace
1Literal.Number.Float
 Text.Whitespace
&&Operator
 Text.Whitespace
typeofOperator.Word
 Text.Whitespace
argumentsName.OtherIArguments0.9857any[]0.0049any0.0028string[]0.0011complex0.0002
[Punctuation
1Literal.Number.Float
]Punctuation
 Text.Whitespace
===Operator
 Text.Whitespace
'string'Literal.String.Single
\n    Text.Whitespace
?Operator
 Text.Whitespace
2Name.Other
\n    Text.Whitespace
:Operator
 Text.Whitespace
1Keyword.Type
\n\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
headersName.Otherany0.5263any[]0.1433complex0.0757string0.0667string[]0.0540
 Text.Whitespace
=Operator
 Text.Whitespace
lengthName.Othernumber0.8772any0.1186string0.0021complex0.0005boolean0.0003
 Text.Whitespace
>=Operator
 Text.Whitespace
headerIndexName.Othernumber0.8562any0.1341string0.0060boolean0.0012complex0.0006
 Text.Whitespace
+Operator
 Text.Whitespace
1Literal.Number.Float
\n    Text.Whitespace
?Operator
 Text.Whitespace
argumentsName.OtherIArguments0.9384any0.0276{}0.0042any[]0.0038complex0.0021
[Punctuation
headerIndexName.Otherstring0.4289number0.3592any0.1794boolean0.0167void0.0047
]Punctuation
\n    Text.Whitespace
:Operator
 Text.Whitespace
undefinedKeyword.Constant
\n\n  Text.Whitespace
thisKeyword
.Punctuation
statusCodeName.Otherany0.7040number0.2508boolean0.0198string0.0141complex0.0016
 Text.Whitespace
=Operator
 Text.Whitespace
statusCodeName.Otherany0.8154number0.1641string0.0121boolean0.0039complex0.0007
\n\n  Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
ArrayName.BuiltinArrayConstructor0.9995Math0.0001ObjectConstructor0.0001any0.0000complex0.0000
.Punctuation
isArrayName.Othercomplex0.9951any0.0021boolean0.0007void0.0005number0.0003
(Punctuation
headersName.Othercomplex0.5335any0.3221{}0.0404any[]0.0335Object0.0218
)Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
// handle array caseComment.Single
\n    Text.Whitespace
setHeadersFromArrayName.Othervoid0.8557any0.0734complex0.0373number0.0039boolean0.0026
(Punctuation
thisKeyword
,Punctuation
 Text.Whitespace
headersName.Othercomplex0.4333any0.2482any[]0.0993{}0.0877Object0.0366
)Punctuation
\n  Text.Whitespace
}Punctuation
 Text.Whitespace
elseKeyword
 Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
headersName.Othercomplex0.4626any0.3350{}0.0632Object0.0424any[]0.0335
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
// handle object caseComment.Single
\n    Text.Whitespace
setHeadersFromObjectName.Othervoid0.8732any0.0574complex0.0238Function0.0040number0.0039
(Punctuation
thisKeyword
,Punctuation
 Text.Whitespace
headersName.Othercomplex0.4218any0.2397{}0.1000any[]0.0868Object0.0593
)Punctuation
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
// copy leading argumentsComment.Single
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
argsName.Otherany[]0.5112string[]0.2292any0.1003number[]0.0248any[][]0.0114
 Text.Whitespace
=Operator
 Text.Whitespace
newOperator.Wordany0.1875string[]0.1790any[]0.0445string0.0366complex0.0331
 Text.Whitespace
ArrayName.BuiltinArrayConstructor0.9992Math0.0000ObjectConstructor0.0000Array0.0000T[]0.0000
(Punctuation
MathName.BuiltinMath0.9983ArrayConstructor0.0006number0.0000PointerCoordinates0.0000Array0.0000
.Punctuation
minName.Othernumber0.9885any0.0041complex0.0018void0.0009number[]0.0006
(Punctuation
lengthName.Othernumber0.9570any0.0409string0.0005void0.0004complex0.0002
,Punctuation
 Text.Whitespace
headerIndexName.Othernumber0.8244any0.1337any[]0.0124boolean0.0043string0.0042
)Punctuation
)Punctuation
\n  Text.Whitespace
forKeyword
 Text.Whitespace
(Punctuation
varKeyword.Declaration
 Text.Whitespace
iName.Othernumber0.9973any0.0024string0.0001boolean0.0000number[]0.0000
 Text.Whitespace
=Operator
 Text.Whitespace
0Literal.Number.Float
;Punctuation
 Text.Whitespace
iName.Othernumber0.9946any0.0048string0.0002void0.0001boolean0.0001
 Text.Whitespace
<Operator
 Text.Whitespace
argsName.Otherany[]0.6518any0.1252string[]0.1101IArguments0.0092number[]0.0044
.Punctuation
lengthName.Othernumber0.9583any0.0404string0.0006void0.0003complex0.0001
;Punctuation
 Text.Whitespace
iName.Othernumber0.9894any0.0100string0.0003void0.0001boolean0.0001
++Operator
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
argsName.Otherany[]0.6601any0.2438string[]0.0336IArguments0.0175number[]0.0024
[Punctuation
iName.Othernumber0.9851any0.0125string0.0018boolean0.0001void0.0001
]Punctuation
 Text.Whitespace
=Operator
 Text.Whitespace
argumentsName.OtherIArguments0.9887any[]0.0049any0.0007string[]0.0005Expression[]0.0001
[Punctuation
iName.Othernumber0.9885any0.0089string0.0020boolean0.0001void0.0001
]Punctuation
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
returnKeyword
 Text.Whitespace
argsName.Otherany[]0.7037any0.0574IArguments0.0541string[]0.0526T[]0.0039
\nText.Whitespace
}Punctuation
\nText.Whitespace
