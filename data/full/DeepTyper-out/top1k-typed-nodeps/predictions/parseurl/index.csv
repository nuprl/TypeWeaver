Text
/*!\n * parseurl\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */Comment.Multiline
\n\nText.Whitespace
'use strict'Literal.String.Single
\n\nText.Whitespace
Text
/**\n * Module dependencies.\n * @private\n */Comment.Multiline
\n\nText.Whitespace
varKeyword.Declaration
 Text.Whitespace
urlName.Otherany0.6415string0.3463complex0.0027number0.0007Object0.0005
 Text.Whitespace
=Operator
 Text.Whitespace
requireName.Other
(Punctuation
'url'Literal.String.Single
)Punctuation
\nText.Whitespace
varKeyword.Declaration
 Text.Whitespace
parseName.Otherany0.7926string0.0343complex0.0126any[]0.0082number0.0073
 Text.Whitespace
=Operator
 Text.Whitespace
urlName.Otherany0.9277string0.0335complex0.0090Url0.0013any[]0.0011
.Punctuation
parseName.Otherany0.9360complex0.0196string0.0120number0.0035any[]0.0023
 Text.Whitespace
// eslint-disable-lineComment.Single
\nText.Whitespace
varKeyword.Declaration
 Text.Whitespace
UrlName.Otherany0.7804string0.1987boolean0.0082complex0.0024number0.0023
 Text.Whitespace
=Operator
 Text.Whitespace
urlName.Otherany0.8405string0.0296complex0.0227Url0.0048ResolvedUrl0.0037
.Punctuation
UrlName.Otherany0.9120string0.0608complex0.0092boolean0.0090number0.0023
\n\nText.Whitespace
Text
/**\n * Module exports.\n * @public\n */Comment.Multiline
\n\nText.Whitespace
moduleKeyword.Reserved
.exportsName.Other
 Text.Whitespace
=Operator
 Text.Whitespace
parseurlName.Otherany0.5755string0.3608complex0.0247number0.0053boolean0.0020
\nText.Whitespace
moduleKeyword.Reserved
.exports.originalName.Other
 Text.Whitespace
=Operator
 Text.Whitespace
originalurlName.Otherany0.5204string0.3900complex0.0143string[]0.0083any[]0.0082
\n\nText.Whitespace
Text
/**\n * Parse the `req` url with memoization.\n *\n * @param {ServerRequest} req\n * @return {Object}\n * @public\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
parseurlName.Otherstring0.6122any0.2977boolean0.0173complex0.0089number0.0076
 Text.Whitespace
(Punctuation
reqName.Otherany0.8329Request0.0671string0.0107Buffer0.0066XMLHttpRequest0.0021
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
urlName.Otherany0.7035string0.2885complex0.0025number0.0005Object0.0003
 Text.Whitespace
=Operator
 Text.Whitespace
reqName.Otherany0.9233Request0.0265complex0.0027string0.0018Response0.0015
.Punctuation
urlName.Otherany0.9092string0.0834complex0.0031number0.0003any[]0.0003
\n\n  Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
urlName.Otherstring0.5168any0.4517complex0.0086number0.0013ResolvedUrl0.0010
 Text.Whitespace
===Operator
 Text.Whitespace
undefinedKeyword.Constant
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
// URL is undefinedComment.Single
\n    Text.Whitespace
returnKeyword
 Text.Whitespace
undefinedKeyword.Constant
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
parsedName.Otherany0.9410string0.0263complex0.0056number0.0044Request0.0011
 Text.Whitespace
=Operator
 Text.Whitespace
reqName.Otherany0.9437Request0.0159complex0.0032string0.0020Response0.0010
.Punctuation
_parsedUrlName.Otherany0.9478string0.0410complex0.0040number0.0014boolean0.0008
\n\n  Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
freshName.Otherstring0.6528any0.3039boolean0.0175complex0.0076number0.0067
(Punctuation
urlName.Otherstring0.5828any0.4038complex0.0048number0.0007never0.0003
,Punctuation
 Text.Whitespace
parsedName.Otherany0.7700string0.0710complex0.0452number0.0225T0.0089
)Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
// Return cached URL parseComment.Single
\n    Text.Whitespace
returnKeyword
 Text.Whitespace
parsedName.Otherany0.7068string0.1670complex0.0313number0.0127string[]0.0094
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
// Parse the URLComment.Single
\n  Text.Whitespace
parsedName.Otherany0.6932string0.1677complex0.0573number0.0097string[]0.0044
 Text.Whitespace
=Operator
 Text.Whitespace
fastparseName.Otherany0.5197string0.3745complex0.0447number0.0083string[]0.0042
(Punctuation
urlName.Otherany0.5048string0.4820complex0.0038number0.0007never0.0004
)Punctuation
\n  Text.Whitespace
parsedName.Otherany0.7031complex0.1059string0.0070T0.0060never0.0052
.Punctuation
_rawName.Otherany0.9631string0.0318complex0.0020number0.0007Object0.0003
 Text.Whitespace
=Operator
 Text.Whitespace
urlName.Otherstring0.7304any0.2542complex0.0082number0.0005string[]0.0004
\n\n  Text.Whitespace
returnKeyword
 Text.Whitespace
(Punctuation
reqName.Otherany0.8446Request0.0819complex0.0020XMLHttpRequest0.0017string0.0016
.Punctuation
_parsedUrlName.Otherany0.9211string0.0664number0.0025complex0.0016void0.0005
 Text.Whitespace
=Operator
 Text.Whitespace
parsedName.Otherany0.5649string0.1256complex0.0817T0.0164number0.0162
)Punctuation
\nText.Whitespace
}Punctuation
;Punctuation
\n\nText.Whitespace
/**\n * Parse the `req` original url with fallback and memoization.\n *\n * @param {ServerRequest} req\n * @return {Object}\n * @public\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
originalurlName.Otherstring0.4805any0.3625boolean0.0212complex0.0125number0.0106
 Text.Whitespace
(Punctuation
reqName.Otherany0.6757Request0.1730string0.0129Buffer0.0105Response0.0039
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
urlName.Otherany0.7949string0.1997complex0.0013number0.0004boolean0.0002
 Text.Whitespace
=Operator
 Text.Whitespace
reqName.Otherany0.9668Request0.0159string0.0014complex0.0012Response0.0004
.Punctuation
originalUrlName.Otherany0.9492string0.0338complex0.0031Promise<string>0.0009boolean0.0007
\n\n  Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
typeofOperator.Word
 Text.Whitespace
urlName.Otherstring0.7107any0.2720complex0.0074number0.0005boolean0.0004
 Text.Whitespace
!==Operator
 Text.Whitespace
'string'Literal.String.Single
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
// FallbackComment.Single
\n    Text.Whitespace
returnKeyword
 Text.Whitespace
parseurlName.Otherstring0.5955any0.3388boolean0.0131complex0.0114number0.0064
(Punctuation
reqName.Otherany0.8869Request0.0521string0.0073complex0.0041Buffer0.0021
)Punctuation
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
parsedName.Otherany0.9392string0.0287complex0.0043number0.0041Request0.0013
 Text.Whitespace
=Operator
 Text.Whitespace
reqName.Otherany0.9365Request0.0175complex0.0028string0.0020Response0.0016
.Punctuation
_parsedOriginalUrlName.Otherany0.9489string0.0406complex0.0038number0.0015boolean0.0008
\n\n  Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
freshName.Otherstring0.6593any0.2711boolean0.0406number0.0083complex0.0076
(Punctuation
urlName.Otherstring0.5896any0.3973complex0.0045number0.0006never0.0003
,Punctuation
 Text.Whitespace
parsedName.Otherany0.7530string0.0786complex0.0438number0.0265T0.0089
)Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
// Return cached URL parseComment.Single
\n    Text.Whitespace
returnKeyword
 Text.Whitespace
parsedName.Otherany0.7214string0.1529complex0.0295number0.0125string[]0.0110
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
// Parse the URLComment.Single
\n  Text.Whitespace
parsedName.Otherany0.6893string0.1670complex0.0589number0.0108string[]0.0051
 Text.Whitespace
=Operator
 Text.Whitespace
fastparseName.Otherany0.4926string0.3983complex0.0433number0.0100boolean0.0059
(Punctuation
urlName.Otherany0.4998string0.4879complex0.0036number0.0007never0.0004
)Punctuation
\n  Text.Whitespace
parsedName.Otherany0.6619complex0.1221T0.0076string0.0070never0.0062
.Punctuation
_rawName.Otherany0.9638string0.0309complex0.0021number0.0009Error0.0002
 Text.Whitespace
=Operator
 Text.Whitespace
urlName.Otherstring0.7032any0.2796complex0.0099number0.0006string[]0.0004
\n\n  Text.Whitespace
returnKeyword
 Text.Whitespace
(Punctuation
reqName.Otherany0.8203Request0.0828complex0.0025XMLHttpRequest0.0022SwivRequest0.0022
.Punctuation
_parsedOriginalUrlName.Otherany0.9315string0.0559number0.0032complex0.0021void0.0005
 Text.Whitespace
=Operator
 Text.Whitespace
parsedName.Otherany0.5265string0.1248complex0.1063number0.0247T0.0198
)Punctuation
\nText.Whitespace
}Punctuation
;Punctuation
\n\nText.Whitespace
/**\n * Parse the `str` url with fast-path short-cut.\n *\n * @param {string} str\n * @return {Object}\n * @private\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
fastparseName.Otherstring0.6061any0.3453number0.0144boolean0.0065complex0.0057
 Text.Whitespace
(Punctuation
strName.Otherany0.5326string0.4619number0.0012complex0.0012Buffer0.0003
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
typeofOperator.Word
 Text.Whitespace
strName.Otherany0.7439string0.2497complex0.0030number0.0021boolean0.0003
 Text.Whitespace
!==Operator
 Text.Whitespace
'string'Literal.String.Single
 Text.Whitespace
||Operator
 Text.Whitespace
strName.Otherstring0.6509any0.3455number0.0020complex0.0006string[]0.0002
.Punctuation
charCodeAtName.Othernumber0.6994any0.2899string0.0043complex0.0035boolean0.0013
(Punctuation
0Literal.Number.Float
)Punctuation
 Text.Whitespace
!==Operator
 Text.Whitespace
0x2fLiteral.Number.Hex
 Text.Whitespace
/* / */Comment.Multiline
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
returnKeyword
 Text.Whitespace
parseName.Otherany0.8384complex0.0176boolean0.0167number0.0098string0.0062
(Punctuation
strName.Otherstring0.6439any0.3525complex0.0015number0.0009string[]0.0002
)Punctuation
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
pathnameName.Otherany0.7677string0.2277complex0.0016number0.0013{}0.0001
 Text.Whitespace
=Operator
 Text.Whitespace
strName.Otherany0.6589string0.3372complex0.0015number0.0008boolean0.0002
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
queryName.Otherany0.8622string0.1298number0.0032complex0.0019boolean0.0006
 Text.Whitespace
=Operator
 Text.Whitespace
nullKeyword.Constant
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
searchName.Otherany0.7181string0.2638number0.0052complex0.0028string[]0.0025
 Text.Whitespace
=Operator
 Text.Whitespace
nullKeyword.Constant
\n\n  Text.Whitespace
// This takes the regexp from https://github.com/joyent/node/pull/7878Comment.Single
\n  Text.Whitespace
// Which is /^(\/[^?#\s]*)(\?[^#\s]*)?$/Comment.Single
\n  Text.Whitespace
// And unrolls it into a for loopComment.Single
\n  Text.Whitespace
forKeyword
 Text.Whitespace
(Punctuation
varKeyword.Declaration
 Text.Whitespace
iName.Othernumber0.9827any0.0160string0.0008boolean0.0001complex0.0001
 Text.Whitespace
=Operator
 Text.Whitespace
1Literal.Number.Float
;Punctuation
 Text.Whitespace
iName.Othernumber0.9548any0.0425string0.0018void0.0002boolean0.0002
 Text.Whitespace
<Operator
 Text.Whitespace
strName.Otherany0.5179string0.4707string[]0.0035number0.0029complex0.0017
.Punctuation
lengthName.Othernumber0.5216any0.4738string0.0031complex0.0005void0.0003
;Punctuation
 Text.Whitespace
iName.Othernumber0.9019any0.0958string0.0015boolean0.0003void0.0002
++Operator
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
switchKeyword
 Text.Whitespace
(Punctuation
strName.Otherstring0.6817any0.3147number0.0021complex0.0005string[]0.0002
.Punctuation
charCodeAtName.Othernumber0.7090any0.2820string0.0054complex0.0015boolean0.0007
(Punctuation
iName.Othernumber0.6307any0.3579string0.0088void0.0007boolean0.0007
)Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n      Text.Whitespace
caseKeyword
 Text.Whitespace
0x3fLiteral.Number.Hex
:Operator
 Text.Whitespace
/* ?  */Comment.Multiline
\n        Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
searchName.Otherany0.6767string0.2931number0.0156boolean0.0026complex0.0021
 Text.Whitespace
===Operator
 Text.Whitespace
nullKeyword.Constant
)Punctuation
 Text.Whitespace
{Punctuation
\n          Text.Whitespace
pathnameName.Otherany0.6823string0.3127complex0.0018number0.0017boolean0.0002
 Text.Whitespace
=Operator
 Text.Whitespace
strName.Otherany0.6205string0.3768complex0.0010number0.0005boolean0.0002
.Punctuation
substringName.Otherany0.6831string0.3071complex0.0060number0.0010void0.0009
(Punctuation
0Literal.Number.Float
,Punctuation
 Text.Whitespace
iName.Othernumber0.7428any0.2488string0.0056boolean0.0012void0.0007
)Punctuation
\n          Text.Whitespace
queryName.Otherany0.7949string0.2001number0.0024complex0.0011boolean0.0004
 Text.Whitespace
=Operator
 Text.Whitespace
strName.Otherany0.7140string0.2836complex0.0010number0.0006boolean0.0001
.Punctuation
substringName.Otherany0.6998string0.2932complex0.0040number0.0009void0.0006
(Punctuation
iName.Othernumber0.7348any0.2585string0.0043boolean0.0010void0.0005
 Text.Whitespace
+Operator
 Text.Whitespace
1Literal.Number.Float
)Punctuation
\n          Text.Whitespace
searchName.Otherany0.6833string0.3102number0.0037string[]0.0006boolean0.0005
 Text.Whitespace
=Operator
 Text.Whitespace
strName.Otherany0.5544string0.4435complex0.0007number0.0006boolean0.0002
.Punctuation
substringName.Otherany0.6072string0.3825complex0.0058void0.0016number0.0014
(Punctuation
iName.Othernumber0.8505any0.1419string0.0046void0.0010boolean0.0010
)Punctuation
\n        Text.Whitespace
}Punctuation
\n        Text.Whitespace
breakKeyword
\n      Text.Whitespace
caseKeyword
 Text.Whitespace
0x09Literal.Number.Hex
:Operator
 Text.Whitespace
/* \t */Comment.Multiline
\n      Text.Whitespace
caseKeyword
 Text.Whitespace
0x0aLiteral.Number.Hex
:Operator
 Text.Whitespace
/* \n */Comment.Multiline
\n      Text.Whitespace
caseKeyword
 Text.Whitespace
0x0cLiteral.Number.Hex
:Operator
 Text.Whitespace
/* \f */Comment.Multiline
\n      Text.Whitespace
caseKeyword
 Text.Whitespace
0x0dLiteral.Number.Hex
:Operator
 Text.Whitespace
/* \r */Comment.Multiline
\n      Text.Whitespace
caseKeyword
 Text.Whitespace
0x20Literal.Number.Hex
:Operator
 Text.Whitespace
/*    */Comment.Multiline
\n      Text.Whitespace
caseKeyword
 Text.Whitespace
0x23Literal.Number.Hex
:Operator
 Text.Whitespace
/* #  */Comment.Multiline
\n      Text.Whitespace
caseKeyword
 Text.Whitespace
0xa0Name.Other
:Operator
\n      Text.Whitespace
caseKeyword.Type
 Text.Whitespace
0xfeffName.Other
:Operator
\n        Text.Whitespace
returnKeyword.Type
 Text.Whitespace
parseName.Otherany0.8463complex0.0130boolean0.0107any[]0.0100string0.0077
(Punctuation
strName.Otherany0.5343string0.4619complex0.0010number0.0007any[]0.0003
)Punctuation
\n    Text.Whitespace
}Punctuation
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
urlName.Otherany0.7822string0.2017complex0.0021boolean0.0014Object0.0007
 Text.Whitespace
=Operator
 Text.Whitespace
UrlName.Otherany0.8953string0.0913boolean0.0035number0.0013complex0.0009
 Text.Whitespace
!==Operator
 Text.Whitespace
undefinedKeyword.Constant
\n    Text.Whitespace
?Operator
 Text.Whitespace
newOperator.Wordany0.5657string0.3772boolean0.0155number0.0034{}0.0029
 Text.Whitespace
UrlName.Otherany0.9714string0.0137boolean0.0095complex0.0026number0.0006
(Punctuation
)Punctuation
\n    Text.Whitespace
:Operator
 Text.Whitespace
{Punctuation
}Punctuation
\n\n  Text.Whitespace
urlName.Otherany0.6077string0.0714Url0.0438URL0.0101complex0.0095
.Punctuation
pathName.Otherstring0.6098any0.3704complex0.0148boolean0.0014number0.0008
 Text.Whitespace
=Operator
 Text.Whitespace
strName.Otherstring0.5390any0.4567complex0.0013boolean0.0004number0.0004
\n  Text.Whitespace
urlName.Otherany0.7501string0.0523Url0.0176complex0.0093ResolvedUrl0.0066
.Punctuation
hrefName.Otherany0.7420string0.2497complex0.0061number0.0010boolean0.0007
 Text.Whitespace
=Operator
 Text.Whitespace
strName.Otherany0.6748string0.3218complex0.0011number0.0003boolean0.0002
\n  Text.Whitespace
urlName.Otherany0.8883string0.0455complex0.0041Url0.0033URL0.0019
.Punctuation
pathnameName.Otherany0.7526string0.2410complex0.0033number0.0005Object0.0002
 Text.Whitespace
=Operator
 Text.Whitespace
pathnameName.Otherstring0.5166any0.4685complex0.0026number0.0007String0.0003
\n\n  Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
searchName.Otherstring0.6020any0.3705boolean0.0033number0.0032string[]0.0025
 Text.Whitespace
!==Operator
 Text.Whitespace
nullKeyword.Constant
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
urlName.Otherany0.9206string0.0238complex0.0040Url0.0031URL0.0009
.Punctuation
queryName.Otherany0.7562string0.2352boolean0.0036complex0.0021number0.0010
 Text.Whitespace
=Operator
 Text.Whitespace
queryName.Otherany0.7586string0.2318complex0.0022boolean0.0013number0.0009
\n    Text.Whitespace
urlName.Otherany0.9010string0.0524complex0.0087Url0.0019HTMLDivElement0.0008
.Punctuation
searchName.Otherany0.5959string0.3974complex0.0026number0.0019boolean0.0008
 Text.Whitespace
=Operator
 Text.Whitespace
searchName.Otherstring0.7665any0.2206number0.0046complex0.0024boolean0.0013
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
returnKeyword
 Text.Whitespace
urlName.Otherstring0.5571any0.4259complex0.0056boolean0.0010Path0.0008
\nText.Whitespace
}Punctuation
\n\nText.Whitespace
Text
/**\n * Determine if parsed is still fresh for url.\n *\n * @param {string} url\n * @param {object} parsedUrl\n * @return {boolean}\n * @private\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
freshName.Otherboolean0.4348string0.3040any0.2162complex0.0152number0.0038
 Text.Whitespace
(Punctuation
urlName.Otherstring0.8085any0.1800complex0.0022boolean0.0010number0.0007
,Punctuation
 Text.Whitespace
parsedUrlName.Otherany0.7953string0.0944boolean0.0486complex0.0388number0.0129
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
returnKeyword
 Text.Whitespace
typeofOperator.Word
 Text.Whitespace
parsedUrlName.Otherany0.9160complex0.0428string0.0247boolean0.0061number0.0047
 Text.Whitespace
===Operator
 Text.Whitespace
'object'Literal.String.Single
 Text.Whitespace
&&Operator
\n    Text.Whitespace
parsedUrlName.Otherany0.8834boolean0.0522string0.0347complex0.0157number0.0091
 Text.Whitespace
!==Operator
 Text.Whitespace
nullKeyword.Constant
 Text.Whitespace
&&Operator
\n    Text.Whitespace
(Punctuation
UrlName.Otherany0.9320string0.0451boolean0.0112complex0.0015number0.0008
 Text.Whitespace
===Operator
 Text.Whitespace
undefinedKeyword.Constant
 Text.Whitespace
||Operator
 Text.Whitespace
parsedUrlName.Otherany0.8749complex0.0849string0.0192boolean0.0102number0.0032
 Text.Whitespace
instanceofOperator.Word
 Text.Whitespace
UrlName.Otherany0.9929string0.0037boolean0.0010complex0.0007number0.0002
)Punctuation
 Text.Whitespace
&&Operator
\n    Text.Whitespace
parsedUrlName.Otherany0.8350complex0.1398boolean0.0051string0.0036any[]0.0025
.Punctuation
_rawName.Otherany0.9785string0.0189complex0.0015number0.0003boolean0.0001
 Text.Whitespace
===Operator
 Text.Whitespace
urlName.Otherstring0.6372any0.3467complex0.0065number0.0008Path0.0004
\nText.Whitespace
}Punctuation
\nText.Whitespace
