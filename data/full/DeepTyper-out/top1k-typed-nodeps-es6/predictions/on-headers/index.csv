Text
/*!\n * on-headers\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */Comment.Multiline
\n\nText.Whitespace
'use strict'Literal.String.Single
\n\nText.Whitespace
Text
/**\n * Module exports.\n * @public\n */Comment.Multiline
\n\nText.Whitespace
exportKeyword
 Text.Whitespace
defaultKeyword
 Text.Whitespace
onHeadersName.Otherany0.4915void0.1200number0.0982boolean0.0725string0.0514
;Punctuation
\n\nText.Whitespace
/**\n * Create a replacement writeHead method.\n *\n * @param {function} prevWriteHead\n * @param {function} listener\n * @private\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
createWriteHeadName.Otherany0.4344void0.2853boolean0.0953string0.0922number0.0175
 Text.Whitespace
(Punctuation
prevWriteHeadName.Otherany0.6544string0.2550boolean0.0314number0.0226Function0.0108
,Punctuation
 Text.Whitespace
listenerName.Otherany0.6748Function0.2682string0.0091boolean0.0058number0.0028
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
firedName.Otherboolean0.9870any0.0094number0.0010string0.0005void0.0005
 Text.Whitespace
=Operator
 Text.Whitespace
falseKeyword.Constant
\n\n  Text.Whitespace
// return function with core name and argument listComment.Single
\n  Text.Whitespace
returnKeyword
 Text.Whitespace
functionKeyword.Declaration
 Text.Whitespace
writeHeadName.Otherany0.8115complex0.0415boolean0.0275void0.0201any[]0.0150
 Text.Whitespace
(Punctuation
statusCodeName.Otherany0.8188number0.1396string0.0330boolean0.0056Function0.0005
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
// set headers from argumentsComment.Single
\n    Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
argsName.Otherany0.9009any[]0.0616IArguments0.0090string[]0.0040Function0.0031
 Text.Whitespace
=Operator
 Text.Whitespace
setWriteHeadHeadersName.Otherany0.8901Function0.0210any[]0.0161boolean0.0154void0.0120
.Punctuation
applyName.Otherany0.9910any[]0.0021number0.0021complex0.0010void0.0006
(Punctuation
thisKeyword
,Punctuation
 Text.Whitespace
argumentsName.OtherIArguments0.9968any[]0.0010any0.0005string[]0.0001string0.0000
)Punctuation
\n\n    Text.Whitespace
// fire listenerComment.Single
\n    Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
!Operator
firedName.Otherboolean0.6518any0.2957string0.0219number0.0103any[]0.0038
)Punctuation
 Text.Whitespace
{Punctuation
\n      Text.Whitespace
firedName.Otherboolean0.9650any0.0288number0.0016void0.0014string0.0007
 Text.Whitespace
=Operator
 Text.Whitespace
trueKeyword.Constant
\n      Text.Whitespace
listenerName.Otherany0.8727Function0.0839void0.0231boolean0.0044number0.0025
.Punctuation
callName.Otherany0.9964number0.0010void0.0007complex0.0003Function0.0003
(Punctuation
thisKeyword
)Punctuation
\n\n      Text.Whitespace
// pass-along an updated status codeComment.Single
\n      Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
typeofOperator.Word
 Text.Whitespace
argsName.Otherany[]0.5754any0.3335string[]0.0321IArguments0.0211number[]0.0039
[Punctuation
0Literal.Number.Float
]Punctuation
 Text.Whitespace
===Operator
 Text.Whitespace
'number'Literal.String.Single
 Text.Whitespace
&&Operator
 Text.Whitespace
thisKeyword
.Punctuation
statusCodeName.Otherany0.5757number0.3915string0.0227boolean0.0067void0.0007
 Text.Whitespace
!==Operator
 Text.Whitespace
argsName.Otherany0.5091any[]0.3725string[]0.0711IArguments0.0090string0.0085
[Punctuation
0Literal.Number.Float
]Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n        Text.Whitespace
argsName.Otherany0.5745any[]0.3480string[]0.0352IArguments0.0090void0.0033
[Punctuation
0Literal.Number.Float
]Punctuation
 Text.Whitespace
=Operator
 Text.Whitespace
thisKeyword
.Punctuation
statusCodeName.Otherany0.7054number0.2731string0.0139boolean0.0028any[]0.0012
\n        Text.Whitespace
argsName.Otherany0.5642any[]0.3024string[]0.0351IArguments0.0151string0.0045
.Punctuation
lengthName.Othernumber0.7213any0.2755string0.0011complex0.0007void0.0005
 Text.Whitespace
=Operator
 Text.Whitespace
1Literal.Number.Float
\n      Text.Whitespace
}Punctuation
\n    Text.Whitespace
}Punctuation
\n\n    Text.Whitespace
returnKeyword
 Text.Whitespace
prevWriteHeadName.Otherany0.6728void0.1392Function0.0499boolean0.0210string0.0153
.Punctuation
applyName.Otherany0.9863void0.0038number0.0019complex0.0016any[]0.0015
(Punctuation
thisKeyword
,Punctuation
 Text.Whitespace
argsName.Otherany[]0.7524any0.1511IArguments0.0424string[]0.0238string0.0014
)Punctuation
\n  Text.Whitespace
}Punctuation
\nText.Whitespace
}Punctuation
\n\nText.Whitespace
Text
/**\n * Execute a listener when a response is about to write headers.\n *\n * @param {object} res\n * @return {function} listener\n * @public\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
onHeadersName.Othervoid0.9867any0.0087string0.0009boolean0.0006complex0.0006
 Text.Whitespace
(Punctuation
resName.Otherany0.6852Response0.0603string0.0373void0.0340Buffer0.0141
,Punctuation
 Text.Whitespace
listenerName.Otherany0.7333Function0.2019void0.0225string0.0107boolean0.0028
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
!Operator
resName.Otherany0.6566Response0.1321boolean0.0351string0.0124void0.0078
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
throwKeywordany0.5440complex0.2410Error0.0428boolean0.0364{}0.0283
 Text.Whitespace
newOperator.Wordany0.4872complex0.0636boolean0.0587string0.0460Error0.0356
 Text.Whitespace
TypeErrorName.ExceptionTypeErrorConstructor0.9894ErrorConstructor0.0022BooleanConstructor0.0002complex0.0001undefined0.0001
(Punctuation
'argument res is required'Literal.String.Single
)Punctuation
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
typeofOperator.Word
 Text.Whitespace
listenerName.Otherany0.8170Function0.1133void0.0120string0.0097complex0.0058
 Text.Whitespace
!==Operator
 Text.Whitespace
'function'Literal.String.Single
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
throwKeywordany0.5766complex0.2560Error0.0671boolean0.0168{}0.0145
 Text.Whitespace
newOperator.Wordany0.3674complex0.0662boolean0.0579Error0.0452string0.0408
 Text.Whitespace
TypeErrorName.ExceptionTypeErrorConstructor0.9881ErrorConstructor0.0028BooleanConstructor0.0001complex0.0001MapConstructor0.0001
(Punctuation
'argument listener must be a function'Literal.String.Single
)Punctuation
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
resName.Otherany0.8379Response0.0137complex0.0078void0.0066any[]0.0029
.Punctuation
writeHeadName.Otherany0.9758complex0.0043string0.0043number0.0037boolean0.0028
 Text.Whitespace
=Operator
 Text.Whitespace
createWriteHeadName.Otherany0.5022void0.2826boolean0.0500complex0.0491string0.0369
(Punctuation
resName.Otherany0.9079complex0.0206Response0.0035void0.0015ResponseWrapper0.0009
.Punctuation
writeHeadName.Otherany0.9804string0.0097number0.0026complex0.0024boolean0.0017
,Punctuation
 Text.Whitespace
listenerName.Otherany0.8618void0.0672Function0.0362string0.0137boolean0.0034
)Punctuation
\nText.Whitespace
}Punctuation
\n\nText.Whitespace
Text
/**\n * Set headers contained in array on the response object.\n *\n * @param {object} res\n * @param {array} headers\n * @private\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
setHeadersFromArrayName.Othervoid0.9855any0.0080number0.0008complex0.0007string0.0006
 Text.Whitespace
(Punctuation
resName.Otherany0.6131Response0.0915string0.0229void0.0177Buffer0.0108
,Punctuation
 Text.Whitespace
headersName.Otherany0.4463complex0.1413Object0.1282any[]0.0458Headers0.0293
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
forKeyword
 Text.Whitespace
(Punctuation
varKeyword.Declaration
 Text.Whitespace
iName.Othernumber0.9956any0.0039string0.0002boolean0.0001number[]0.0000
 Text.Whitespace
=Operator
 Text.Whitespace
0Literal.Number.Float
;Punctuation
 Text.Whitespace
iName.Othernumber0.9841any0.0145string0.0004void0.0004boolean0.0001
 Text.Whitespace
<Operator
 Text.Whitespace
headersName.Otherany0.2680any[]0.1506complex0.1242Object0.0673string[]0.0247
.Punctuation
lengthName.Othernumber0.9721any0.0265string0.0007complex0.0002void0.0002
;Punctuation
 Text.Whitespace
iName.Othernumber0.9870any0.0122string0.0004void0.0001boolean0.0001
++Operator
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
resName.Otherany0.9737Response0.0032void0.0011complex0.0011string0.0005
.Punctuation
setHeaderName.Otherany0.9007void0.0899complex0.0015string0.0011Promise<void>0.0007
(Punctuation
headersName.Otherany0.4095any[]0.1293complex0.0657Object0.0507{}0.0420
[Punctuation
iName.Othernumber0.9055any0.0791string0.0138void0.0005complex0.0002
]Punctuation
[Punctuation
0Literal.Number.Float
]Punctuation
,Punctuation
 Text.Whitespace
headersName.Otherany0.2915Object0.1717any[]0.1114complex0.0820{}0.0481
[Punctuation
iName.Othernumber0.9383any0.0537string0.0068void0.0003complex0.0002
]Punctuation
[Punctuation
1Literal.Number.Float
]Punctuation
)Punctuation
\n  Text.Whitespace
}Punctuation
\nText.Whitespace
}Punctuation
\n\nText.Whitespace
Text
/**\n * Set headers contained in object on the response object.\n *\n * @param {object} res\n * @param {object} headers\n * @private\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
setHeadersFromObjectName.Othervoid0.9358any0.0442complex0.0032string0.0029number0.0022
 Text.Whitespace
(Punctuation
resName.Otherany0.7237Response0.0837string0.0147void0.0136Object0.0066
,Punctuation
 Text.Whitespace
headersName.Otherany0.4540complex0.1839Object0.1702any[]0.0360{}0.0226
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
keysName.Otherstring[]0.9680any[]0.0158any0.0058string0.0056number[]0.0017
 Text.Whitespace
=Operator
 Text.Whitespace
ObjectName.BuiltinObjectConstructor0.9999Object0.0000any0.0000complex0.0000Object[]0.0000
.Punctuation
keysName.Otherstring[]0.9970any[]0.0010string0.0004number[]0.0003complex0.0003
(Punctuation
headersName.Othercomplex0.4757any0.2662Object0.0975{}0.0537any[]0.0364
)Punctuation
\n  Text.Whitespace
forKeyword
 Text.Whitespace
(Punctuation
varKeyword.Declaration
 Text.Whitespace
iName.Othernumber0.9966any0.0029string0.0002void0.0001boolean0.0000
 Text.Whitespace
=Operator
 Text.Whitespace
0Literal.Number.Float
;Punctuation
 Text.Whitespace
iName.Othernumber0.9869any0.0110string0.0009void0.0007boolean0.0001
 Text.Whitespace
<Operator
 Text.Whitespace
keysName.Otherstring[]0.9761any0.0092any[]0.0083string0.0019number[]0.0013
.Punctuation
lengthName.Othernumber0.9710any0.0275string0.0009void0.0002complex0.0001
;Punctuation
 Text.Whitespace
iName.Othernumber0.9839any0.0152string0.0005void0.0002boolean0.0001
++Operator
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
kName.Otherstring0.8191any0.1700number0.0087string[]0.0006complex0.0004
 Text.Whitespace
=Operator
 Text.Whitespace
keysName.Otherstring[]0.9559any0.0226any[]0.0129string0.0027number[]0.0016
[Punctuation
iName.Othernumber0.9892any0.0082string0.0022void0.0001boolean0.0001
]Punctuation
\n    Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
kName.Otherstring0.8908any0.0793number0.0232boolean0.0031complex0.0018
)Punctuation
 Text.Whitespace
resName.Otherany0.9631complex0.0133void0.0043Response0.0033string0.0011
.Punctuation
setHeaderName.Otherany0.9081void0.0778complex0.0042string0.0017boolean0.0014
(Punctuation
kName.Otherstring0.9665any0.0305number0.0019string[]0.0003complex0.0003
,Punctuation
 Text.Whitespace
headersName.Otherany0.3235complex0.2527Object0.1411{}0.1382any[]0.0297
[Punctuation
kName.Otherstring0.9495any0.0379number0.0104complex0.0014string[]0.0002
]Punctuation
)Punctuation
\n  Text.Whitespace
}Punctuation
\nText.Whitespace
}Punctuation
\n\nText.Whitespace
Text
/**\n * Set headers and other properties on the response object.\n *\n * @param {number} statusCode\n * @private\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
setWriteHeadHeadersName.Otherany0.6836void0.0694string0.0431number0.0368complex0.0354
 Text.Whitespace
(Punctuation
statusCodeName.Otherany0.4977number0.3062string0.1862boolean0.0032complex0.0006
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
lengthName.Othernumber0.9343any0.0623string0.0020void0.0003boolean0.0003
 Text.Whitespace
=Operator
 Text.Whitespace
argumentsName.OtherIArguments0.9901any[]0.0032any0.0016string[]0.0016string0.0001
.Punctuation
lengthName.Othernumber0.9625any0.0349string0.0015complex0.0004boolean0.0002
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
headerIndexName.Otherany0.4315string[]0.2921any[]0.0794string0.0593number0.0524
 Text.Whitespace
=Operator
 Text.Whitespace
lengthName.Othernumber0.9304any0.0668string0.0017boolean0.0003complex0.0002
 Text.Whitespace
>Operator
 Text.Whitespace
1Literal.Number.Float
 Text.Whitespace
&&Operator
 Text.Whitespace
typeofOperator.Word
 Text.Whitespace
argumentsName.OtherIArguments0.9861any[]0.0045any0.0026string[]0.0010complex0.0002
[Punctuation
1Literal.Number.Float
]Punctuation
 Text.Whitespace
===Operator
 Text.Whitespace
'string'Literal.String.Single
\n    Text.Whitespace
?Operator
 Text.Whitespace
2Name.Other
\n    Text.Whitespace
:Operator
 Text.Whitespace
1Keyword.Type
\n\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
headersName.Otherany0.5167any[]0.1439complex0.0726string0.0695string[]0.0545
 Text.Whitespace
=Operator
 Text.Whitespace
lengthName.Othernumber0.8844any0.1116string0.0021complex0.0005boolean0.0003
 Text.Whitespace
>=Operator
 Text.Whitespace
headerIndexName.Othernumber0.8807any0.1104string0.0055boolean0.0011complex0.0005
 Text.Whitespace
+Operator
 Text.Whitespace
1Literal.Number.Float
\n    Text.Whitespace
?Operator
 Text.Whitespace
argumentsName.OtherIArguments0.9421any0.0245any[]0.0034{}0.0034complex0.0018
[Punctuation
headerIndexName.Otherstring0.4042number0.3975any0.1654boolean0.0181void0.0043
]Punctuation
\n    Text.Whitespace
:Operator
 Text.Whitespace
undefinedKeyword.Constant
\n\n  Text.Whitespace
thisKeyword
.Punctuation
statusCodeName.Otherany0.6746number0.2758boolean0.0232string0.0148complex0.0015
 Text.Whitespace
=Operator
 Text.Whitespace
statusCodeName.Otherany0.7992number0.1792string0.0126boolean0.0045complex0.0007
\n\n  Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
ArrayName.BuiltinArrayConstructor0.9995Math0.0001ObjectConstructor0.0001any0.0000complex0.0000
.Punctuation
isArrayName.Othercomplex0.9949any0.0022boolean0.0007void0.0005number0.0004
(Punctuation
headersName.Othercomplex0.5176any0.3373{}0.0373any[]0.0330Object0.0237
)Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
// handle array caseComment.Single
\n    Text.Whitespace
setHeadersFromArrayName.Othervoid0.8650any0.0700complex0.0324number0.0041Function0.0030
(Punctuation
thisKeyword
,Punctuation
 Text.Whitespace
headersName.Othercomplex0.4253any0.2512any[]0.1004{}0.0812Object0.0404
)Punctuation
\n  Text.Whitespace
}Punctuation
 Text.Whitespace
elseKeyword
 Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
headersName.Othercomplex0.4464any0.3468{}0.0594Object0.0470any[]0.0336
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
// handle object caseComment.Single
\n    Text.Whitespace
setHeadersFromObjectName.Othervoid0.8768any0.0574complex0.0206Function0.0047number0.0043
(Punctuation
thisKeyword
,Punctuation
 Text.Whitespace
headersName.Othercomplex0.4136any0.2445{}0.0913any[]0.0866Object0.0670
)Punctuation
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
// copy leading argumentsComment.Single
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
argsName.Otherany[]0.5048string[]0.2173any0.1117number[]0.0259any[][]0.0111
 Text.Whitespace
=Operator
 Text.Whitespace
newOperator.Wordany0.1828string[]0.1628any[]0.0420string0.0355complex0.0294
 Text.Whitespace
ArrayName.BuiltinArrayConstructor0.9992Math0.0000ObjectConstructor0.0000Array0.0000T[]0.0000
(Punctuation
MathName.BuiltinMath0.9982ArrayConstructor0.0006number0.0000PointerCoordinates0.0000Array0.0000
.Punctuation
minName.Othernumber0.9891any0.0038complex0.0016void0.0008number[]0.0006
(Punctuation
lengthName.Othernumber0.9610any0.0370string0.0004void0.0004complex0.0002
,Punctuation
 Text.Whitespace
headerIndexName.Othernumber0.8537any0.1100any[]0.0098boolean0.0042string0.0035
)Punctuation
)Punctuation
\n  Text.Whitespace
forKeyword
 Text.Whitespace
(Punctuation
varKeyword.Declaration
 Text.Whitespace
iName.Othernumber0.9975any0.0022string0.0001boolean0.0000number[]0.0000
 Text.Whitespace
=Operator
 Text.Whitespace
0Literal.Number.Float
;Punctuation
 Text.Whitespace
iName.Othernumber0.9949any0.0045string0.0002void0.0001boolean0.0001
 Text.Whitespace
<Operator
 Text.Whitespace
argsName.Otherany[]0.6486any0.1233string[]0.1064IArguments0.0103number[]0.0045
.Punctuation
lengthName.Othernumber0.9604any0.0384string0.0005void0.0002complex0.0001
;Punctuation
 Text.Whitespace
iName.Othernumber0.9902any0.0092string0.0003boolean0.0001void0.0001
++Operator
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
argsName.Otherany[]0.6709any0.2322string[]0.0312IArguments0.0181number[]0.0025
[Punctuation
iName.Othernumber0.9859any0.0118string0.0018boolean0.0001void0.0001
]Punctuation
 Text.Whitespace
=Operator
 Text.Whitespace
argumentsName.OtherIArguments0.9887any[]0.0046any0.0007string[]0.0005Expression[]0.0001
[Punctuation
iName.Othernumber0.9891any0.0084string0.0019boolean0.0001void0.0001
]Punctuation
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
returnKeyword
 Text.Whitespace
argsName.Otherany[]0.7003any0.0565IArguments0.0540string[]0.0492T[]0.0037
\nText.Whitespace
}Punctuation
\nText.Whitespace
