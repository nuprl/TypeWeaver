Text
/*!\n * serve-static\n * Copyright(c) 2010 Sencha Inc.\n * Copyright(c) 2011 TJ Holowaychuk\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */Comment.Multiline
\n\nText.Whitespace
'use strict'Literal.String.Single
\n\nText.Whitespace
Text
/**\n * Module dependencies.\n * @private\n */Comment.Multiline
\n\nText.Whitespace
varKeyword.Declaration
 Text.Whitespace
encodeUrlName.Otherany0.6158string0.2855boolean0.0228number0.0221void0.0173
 Text.Whitespace
=Operator
 Text.Whitespace
requireName.Other
(Punctuation
'encodeurl'Literal.String.Single
)Punctuation
\nText.Whitespace
varKeyword.Declaration
 Text.Whitespace
escapeHtmlName.Otherany0.8270string0.1660number0.0017void0.0010complex0.0009
 Text.Whitespace
=Operator
 Text.Whitespace
requireName.Other
(Punctuation
'escape-html'Literal.String.Single
)Punctuation
\nText.Whitespace
varKeyword.Declaration
 Text.Whitespace
parseUrlName.Otherany0.9453void0.0069complex0.0069string0.0068NodeRequire0.0035
 Text.Whitespace
=Operator
 Text.Whitespace
requireName.Other
(Punctuation
'parseurl'Literal.String.Single
)Punctuation
\nText.Whitespace
varKeyword.Declaration
 Text.Whitespace
resolveName.Otherany0.9527void0.0198string0.0121Function0.0048number0.0010
 Text.Whitespace
=Operator
 Text.Whitespace
requireName.Other
(Punctuation
'path'Literal.String.Single
)Punctuation
.Punctuation
resolveName.Otherany0.9882string0.0044void0.0039complex0.0011Function0.0008
\nText.Whitespace
varKeyword.Declaration
 Text.Whitespace
sendName.Otherany0.8544string0.1045void0.0276complex0.0051number0.0024
 Text.Whitespace
=Operator
 Text.Whitespace
requireName.Other
(Punctuation
'send'Literal.String.Single
)Punctuation
\nText.Whitespace
varKeyword.Declaration
 Text.Whitespace
urlName.Otherany0.9824string0.0155complex0.0006number0.0001NodeRequire0.0001
 Text.Whitespace
=Operator
 Text.Whitespace
requireName.Other
(Punctuation
'url'Literal.String.Single
)Punctuation
\n\nText.Whitespace
Text
/**\n * Module exports.\n * @public\n */Comment.Multiline
\n\nText.Whitespace
moduleKeyword.Reserved
.exportsName.Other
 Text.Whitespace
=Operator
 Text.Whitespace
serveStaticName.Otherany0.5728string0.0928number0.0141void0.0124complex0.0079
\nText.Whitespace
moduleKeyword.Reserved
.exports.mimeName.Other
 Text.Whitespace
=Operator
 Text.Whitespace
sendName.Otherany0.9439string0.0262complex0.0077void0.0065number0.0009
.Punctuation
mimeName.Otherany0.5508string0.2107complex0.0567void0.0315T0.0069
\n\nText.Whitespace
Text
/**\n * @param {string} root\n * @param {object} [options]\n * @return {function}\n * @public\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
serveStaticName.Othervoid0.3276any0.1642string0.0684Promise<void>0.0256Promise<any>0.0181
 Text.Whitespace
(Punctuation
rootName.Otherstring0.5550any0.4007Error0.0046Node0.0026number0.0021
,Punctuation
 Text.Whitespace
optionsName.Otherany0.8382string0.0155Options0.0124{}0.0089complex0.0046
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
!Operator
rootName.Otherany0.7336string0.2183boolean0.0155complex0.0043Error0.0036
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
throwKeywordany0.6182complex0.1721Error0.0432{}0.0425string0.0423
 Text.Whitespace
newOperator.Wordany0.5044boolean0.1031string0.0986complex0.0875Error0.0338
 Text.Whitespace
TypeErrorName.ExceptionTypeErrorConstructor0.9891ErrorConstructor0.0019BooleanConstructor0.0002complex0.0002MapConstructor0.0001
(Punctuation
'root path required'Literal.String.Single
)Punctuation
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
typeofOperator.Word
 Text.Whitespace
rootName.Otherany0.5795string0.3386complex0.0238never0.0099Error0.0057
 Text.Whitespace
!==Operator
 Text.Whitespace
'string'Literal.String.Single
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
throwKeywordany0.5728complex0.2327Error0.0547{}0.0345boolean0.0271
 Text.Whitespace
newOperator.Wordany0.4030boolean0.1233complex0.1169string0.0750Error0.0421
 Text.Whitespace
TypeErrorName.ExceptionTypeErrorConstructor0.9889ErrorConstructor0.0019BooleanConstructor0.0002complex0.0001MapConstructor0.0001
(Punctuation
'root path must be a string'Literal.String.Single
)Punctuation
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
// copy options objectComment.Single
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
optsName.Otherany0.8800complex0.0367Options0.0089Object0.0068number0.0031
 Text.Whitespace
=Operator
 Text.Whitespace
ObjectName.BuiltinObjectConstructor0.9997any0.0001Object0.0001complex0.0000Object[]0.0000
.Punctuation
createName.Othercomplex0.9437any0.0223boolean0.0085{}0.0055T0.0026
(Punctuation
optionsName.Otherany0.6724complex0.0415{}0.0318Options0.0262Object0.0100
 Text.Whitespace
||Operator
 Text.Whitespace
nullKeyword.Constant
)Punctuation
\n\n  Text.Whitespace
// fall-thoughComment.Single
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
fallthroughName.Otherboolean0.9063any0.0599number0.0097string0.0083complex0.0046
 Text.Whitespace
=Operator
 Text.Whitespace
optsName.Otherany0.8044complex0.0511Options0.0298number0.0057boolean0.0043
.Punctuation
fallthroughName.Otherany0.4667boolean0.4565string0.0262number0.0213complex0.0162
 Text.Whitespace
!==Operator
 Text.Whitespace
falseKeyword.Constant
\n\n  Text.Whitespace
// default redirectComment.Single
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
redirectName.Otherstring0.4683any0.3123boolean0.1635number0.0308complex0.0148
 Text.Whitespace
=Operator
 Text.Whitespace
optsName.Otherany0.7364complex0.0671Options0.0500number0.0077Object0.0054
.Punctuation
redirectName.Otherany0.5096string0.3322boolean0.0979complex0.0277number0.0177
 Text.Whitespace
!==Operator
 Text.Whitespace
falseKeyword.Constant
\n\n  Text.Whitespace
// headers listenerComment.Single
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
setHeadersName.Otherany0.2833boolean0.2109any[]0.0595string0.0503string[]0.0373
 Text.Whitespace
=Operator
 Text.Whitespace
optsName.Otherany0.5648complex0.1022Options0.0365Object0.0156string0.0055
.Punctuation
setHeadersName.Otherany0.1728boolean0.0711string0.0686string[]0.0602any[]0.0287
\n\n  Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
setHeadersName.Otherboolean0.4081any0.2136string0.0559string[]0.0347void0.0296
 Text.Whitespace
&&Operator
 Text.Whitespace
typeofOperator.Word
 Text.Whitespace
setHeadersName.Otherany0.3494complex0.0636boolean0.0590string0.0434void0.0395
 Text.Whitespace
!==Operator
 Text.Whitespace
'function'Literal.String.Single
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
throwKeywordany0.5770complex0.1947Error0.0486boolean0.0424{}0.0378
 Text.Whitespace
newOperator.Wordany0.4733boolean0.1230complex0.1170string0.0771{}0.0389
 Text.Whitespace
TypeErrorName.ExceptionTypeErrorConstructor0.9832ErrorConstructor0.0026complex0.0003BooleanConstructor0.0003any0.0002
(Punctuation
'option setHeaders must be function'Literal.String.Single
)Punctuation
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
// setup options for sendComment.Single
\n  Text.Whitespace
optsName.Otherany0.6999complex0.0825Options0.0195number0.0052{}0.0035
.Punctuation
maxageName.Otherany0.7610number0.0880string0.0745boolean0.0376complex0.0148
 Text.Whitespace
=Operator
 Text.Whitespace
optsName.Otherany0.5660complex0.1917Options0.0366number0.0080{}0.0047
.Punctuation
maxageName.Otherany0.4801string0.2341number0.1480boolean0.0829complex0.0275
 Text.Whitespace
||Operator
 Text.Whitespace
optsName.Otherany0.3718complex0.3364Options0.0339number0.0058{}0.0047
.Punctuation
maxAgeName.Othernumber0.4588any0.4419complex0.0748string0.0145boolean0.0050
 Text.Whitespace
||Operator
 Text.Whitespace
0Literal.Number.Float
\n  Text.Whitespace
optsName.Otherany0.7349complex0.0616Options0.0162number0.0073never0.0019
.Punctuation
rootName.Otherany0.7277string0.1829number0.0359complex0.0116boolean0.0099
 Text.Whitespace
=Operator
 Text.Whitespace
resolveName.Otherany0.9518void0.0272string0.0080complex0.0057Function0.0012
(Punctuation
rootName.Otherany0.6792string0.2783Error0.0093complex0.0045number0.0024
)Punctuation
\n\n  Text.Whitespace
// construct directory listenerComment.Single
\n  Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
onDirectoryName.Otherany0.4743string0.4651boolean0.0266number0.0164void0.0068
 Text.Whitespace
=Operator
 Text.Whitespace
redirectName.Otherstring0.7094any0.2192boolean0.0476number0.0089complex0.0064
\n    Text.Whitespace
?Operator
 Text.Whitespace
createRedirectDirectoryListenerName.Otherstring0.5147any0.4362boolean0.0136complex0.0103number0.0048
(Punctuation
)Punctuation
\n    Text.Whitespace
:Operator
 Text.Whitespace
createNotFoundDirectoryListenerName.Otherany0.5036string0.2213void0.0920complex0.0573boolean0.0367
(Punctuation
)Punctuation
\n\n  Text.Whitespace
returnKeyword
 Text.Whitespace
functionKeyword.Declaration
 Text.Whitespace
serveStaticName.Othervoid0.3973any0.2515string0.0491Promise<any>0.0228Promise<void>0.0145
 Text.Whitespace
(Punctuation
reqName.Otherany0.9318Request0.0209string0.0083Buffer0.0026Error0.0016
,Punctuation
 Text.Whitespace
resName.Otherany0.9435Response0.0256string0.0039void0.0015Buffer0.0011
,Punctuation
 Text.Whitespace
nextName.Otherany0.8216Function0.0538void0.0330string0.0269number0.0073
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
reqName.Otherany0.9491Request0.0209string0.0030Error0.0015complex0.0014
.Punctuation
methodName.Otherany0.8998string0.0952number0.0014complex0.0010boolean0.0008
 Text.Whitespace
!==Operator
 Text.Whitespace
'GET'Literal.String.Single
 Text.Whitespace
&&Operator
 Text.Whitespace
reqName.Otherany0.9462Request0.0206string0.0043complex0.0020Error0.0015
.Punctuation
methodName.Otherany0.8621string0.1334number0.0014complex0.0009boolean0.0005
 Text.Whitespace
!==Operator
 Text.Whitespace
'HEAD'Literal.String.Single
)Punctuation
 Text.Whitespace
{Punctuation
\n      Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
fallthroughName.Otherboolean0.5138any0.3070string0.1168number0.0242void0.0114
)Punctuation
 Text.Whitespace
{Punctuation
\n        Text.Whitespace
returnKeyword
 Text.Whitespace
nextName.Otherany0.7809void0.0767Function0.0512string0.0173number0.0050
(Punctuation
)Punctuation
\n      Text.Whitespace
}Punctuation
\n\n      Text.Whitespace
// method not allowedComment.Single
\n      Text.Whitespace
resName.Otherany0.9851complex0.0036Response0.0018any[]0.0004void0.0003
.Punctuation
statusCodeName.Otherany0.9614number0.0359string0.0015complex0.0002void0.0002
 Text.Whitespace
=Operator
 Text.Whitespace
405Literal.Number.Float
\n      Text.Whitespace
resName.Otherany0.9942string0.0011Response0.0009complex0.0005void0.0003
.Punctuation
setHeaderName.Otherany0.9856void0.0057complex0.0019string0.0007boolean0.0003
(Punctuation
'Allow'Literal.String.Single
,Punctuation
 Text.Whitespace
'GET, HEAD'Literal.String.Single
)Punctuation
\n      Text.Whitespace
resName.Otherany0.9968string0.0010Response0.0004complex0.0003void0.0002
.Punctuation
setHeaderName.Otherany0.9933void0.0027complex0.0012string0.0006boolean0.0002
(Punctuation
'Content-Length'Literal.String.Single
,Punctuation
 Text.Whitespace
'0'Literal.String.Single
)Punctuation
\n      Text.Whitespace
resName.Otherany0.9926complex0.0021Response0.0011string0.0009void0.0007
.Punctuation
endName.Otherany0.9872void0.0081complex0.0014string0.0006number0.0005
(Punctuation
)Punctuation
\n      Text.Whitespace
returnKeyword
\n    Text.Whitespace
}Punctuation
\n\n    Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
forwardErrorName.Otherboolean0.7381any0.1934string0.0439number0.0051void0.0049
 Text.Whitespace
=Operator
 Text.Whitespace
!Operator
fallthroughName.Otherboolean0.4814any0.4657string0.0205complex0.0071void0.0029
\n    Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
originalUrlName.Otherany0.8825string0.0472boolean0.0055complex0.0047number0.0022
 Text.Whitespace
=Operator
 Text.Whitespace
parseUrlName.Otherany0.9082complex0.0162void0.0049string0.0036Url0.0014
.Punctuation
originalName.Otherany0.9188string0.0206void0.0084complex0.0074boolean0.0071
(Punctuation
reqName.Otherany0.9320string0.0238Request0.0159void0.0023Buffer0.0020
)Punctuation
\n    Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
pathName.Otherany0.8829string0.1122complex0.0018number0.0004void0.0004
 Text.Whitespace
=Operator
 Text.Whitespace
parseUrlName.Otherany0.9030string0.0127complex0.0122void0.0079NodeRequire0.0014
(Punctuation
reqName.Otherany0.9489string0.0208Request0.0113void0.0031boolean0.0015
)Punctuation
.Punctuation
pathnameName.Otherany0.9416string0.0557complex0.0012number0.0003string[]0.0001
\n\n    Text.Whitespace
// make sure redirect occurs at mountComment.Single
\n    Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
pathName.Otherany0.6748string0.3224complex0.0012boolean0.0003number0.0003
 Text.Whitespace
===Operator
 Text.Whitespace
'/'Literal.String.Single
 Text.Whitespace
&&Operator
 Text.Whitespace
originalUrlName.Otherany0.9259string0.0075complex0.0022void0.0006Promise<any>0.0006
.Punctuation
pathnameName.Otherany0.8261string0.1707complex0.0011number0.0006string[]0.0004
.Punctuation
substrName.Otherany0.5323string0.4647complex0.0009number0.0009string[]0.0003
(Punctuation
-Operator
1Literal.Number.Float
)Punctuation
 Text.Whitespace
!==Operator
 Text.Whitespace
'/'Literal.String.Single
)Punctuation
 Text.Whitespace
{Punctuation
\n      Text.Whitespace
pathName.Otherstring0.6927any0.3039complex0.0014string[]0.0005number0.0004
 Text.Whitespace
=Operator
 Text.Whitespace
''Literal.String.Single
\n    Text.Whitespace
}Punctuation
\n\n    Text.Whitespace
// create send streamComment.Single
\n    Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
streamName.Otherany0.9741string0.0034complex0.0032void0.0025number0.0010
 Text.Whitespace
=Operator
 Text.Whitespace
sendName.Otherany0.8221void0.0842complex0.0517string0.0197Promise<any>0.0059
(Punctuation
reqName.Otherany0.9226string0.0272Request0.0214void0.0048complex0.0027
,Punctuation
 Text.Whitespace
pathName.Otherstring0.7315any0.2614complex0.0033number0.0006Path0.0005
,Punctuation
 Text.Whitespace
optsName.Otherany0.7111complex0.0509Options0.0410{}0.0090number0.0056
)Punctuation
\n\n    Text.Whitespace
// add directory handlerComment.Single
\n    Text.Whitespace
streamName.Otherany0.9900string0.0021number0.0008complex0.0008Buffer0.0002
.Punctuation
onName.Otherany0.9492complex0.0269void0.0079EventEmitter0.0010Promise<any>0.0009
(Punctuation
'directory'Literal.String.Single
,Punctuation
 Text.Whitespace
onDirectoryName.Othervoid0.6615any0.1363string0.1306boolean0.0412number0.0191
)Punctuation
\n\n    Text.Whitespace
// add headers listenerComment.Single
\n    Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
setHeadersName.Otherboolean0.2791any0.2576void0.2164string0.0469any[]0.0188
)Punctuation
 Text.Whitespace
{Punctuation
\n      Text.Whitespace
streamName.Otherany0.9890string0.0015number0.0011complex0.0005void0.0003
.Punctuation
onName.Otherany0.9307complex0.0297void0.0228Promise<void>0.0014Promise<any>0.0010
(Punctuation
'headers'Literal.String.Single
,Punctuation
 Text.Whitespace
setHeadersName.Othervoid0.4375any0.2469any[]0.0550boolean0.0342string0.0241
)Punctuation
\n    Text.Whitespace
}Punctuation
\n\n    Text.Whitespace
// add file listener for fallthroughComment.Single
\n    Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
fallthroughName.Otherboolean0.7652any0.1212string0.0637number0.0180void0.0167
)Punctuation
 Text.Whitespace
{Punctuation
\n      Text.Whitespace
streamName.Otherany0.9917string0.0011number0.0008complex0.0004Buffer0.0002
.Punctuation
onName.Otherany0.9486complex0.0246void0.0116Promise<any>0.0011Promise<void>0.0010
(Punctuation
'file'Literal.String.Single
,Punctuation
 Text.Whitespace
functionKeyword.Declaration
 Text.Whitespace
onFileName.Othervoid0.9698any0.0115boolean0.0087string0.0031complex0.0023
 Text.Whitespace
(Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n        Text.Whitespace
// once file is determined, always forward errorComment.Single
\n        Text.Whitespace
forwardErrorName.Otherboolean0.9831any0.0113string0.0018number0.0016void0.0008
 Text.Whitespace
=Operator
 Text.Whitespace
trueKeyword.Constant
\n      Text.Whitespace
}Punctuation
)Punctuation
\n    Text.Whitespace
}Punctuation
\n\n    Text.Whitespace
// forward errorsComment.Single
\n    Text.Whitespace
streamName.Otherany0.9874string0.0019number0.0011complex0.0008void0.0005
.Punctuation
onName.Otherany0.9209complex0.0362void0.0151EventEmitter0.0027Promise<void>0.0011
(Punctuation
'error'Literal.String.Single
,Punctuation
 Text.Whitespace
functionKeyword.Declaration
 Text.Whitespace
errorName.Othervoid0.9884any0.0067complex0.0011Error0.0006boolean0.0005
 Text.Whitespace
(Punctuation
errName.Otherany0.7486Error0.2326string0.0030complex0.0019Buffer0.0013
)Punctuation
 Text.Whitespace
{Punctuation
\n      Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
forwardErrorName.Otherboolean0.4618any0.3812string0.0930number0.0268void0.0149
 Text.Whitespace
||Operator
 Text.Whitespace
!Operator
(Punctuation
errName.Otherany0.9029Error0.0709complex0.0089never0.0007string0.0006
.Punctuation
statusCodeName.Otherany0.9383number0.0584string0.0022void0.0003complex0.0003
 Text.Whitespace
<Operator
 Text.Whitespace
500Literal.Number.Float
)Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n        Text.Whitespace
nextName.Otherany0.5717void0.3026Function0.0486complex0.0112string0.0072
(Punctuation
errName.Otherany0.5419Error0.4334string0.0029complex0.0026{}0.0018
)Punctuation
\n        Text.Whitespace
returnKeyword
\n      Text.Whitespace
}Punctuation
\n\n      Text.Whitespace
nextName.Otherany0.7362void0.1302Function0.0277string0.0256number0.0093
(Punctuation
)Punctuation
\n    Text.Whitespace
}Punctuation
)Punctuation
\n\n    Text.Whitespace
// pipeComment.Single
\n    Text.Whitespace
streamName.Otherany0.9865string0.0017number0.0008Buffer0.0005complex0.0004
.Punctuation
pipeName.Otherany0.9937string0.0013void0.0012complex0.0009number0.0009
(Punctuation
resName.Otherany0.9565Response0.0126string0.0094complex0.0038void0.0031
)Punctuation
\n  Text.Whitespace
}Punctuation
\nText.Whitespace
}Punctuation
\n\nText.Whitespace
Text
/**\n * Collapse all leading slashes into a single slash\n * @private\n */Comment.Multiline
\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
collapseLeadingSlashesName.Otherstring0.3970any0.3640void0.1085boolean0.0315number0.0289
 Text.Whitespace
(Punctuation
strName.Otherstring0.7364any0.2574number0.0019complex0.0011string[]0.0008
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
forKeyword
 Text.Whitespace
(Punctuation
varKeyword.Declaration
 Text.Whitespace
iName.Othernumber0.9908any0.0080string0.0009boolean0.0001complex0.0001
 Text.Whitespace
=Operator
 Text.Whitespace
0Literal.Number.Float
;Punctuation
 Text.Whitespace
iName.Othernumber0.9719any0.0257string0.0020void0.0001boolean0.0001
 Text.Whitespace
<Operator
 Text.Whitespace
strName.Otherstring0.7830any0.2013string[]0.0093number0.0028any[]0.0008
.Punctuation
lengthName.Othernumber0.7377any0.2577string0.0034complex0.0005void0.0003
;Punctuation
 Text.Whitespace
iName.Othernumber0.9442any0.0534string0.0020boolean0.0001complex0.0001
++Operator
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
strName.Otherstring0.9225any0.0746number0.0016string[]0.0006boolean0.0002
.Punctuation
charCodeAtName.Othernumber0.8789any0.1146string0.0043boolean0.0008complex0.0008
(Punctuation
iName.Othernumber0.8171any0.1717string0.0100boolean0.0003void0.0003
)Punctuation
 Text.Whitespace
!==Operator
 Text.Whitespace
0x2fLiteral.Number.Hex
 Text.Whitespace
/* / */Comment.Multiline
)Punctuation
 Text.Whitespace
{Punctuation
\n      Text.Whitespace
breakKeyword
\n    Text.Whitespace
}Punctuation
\n  Text.Whitespace
}Punctuation
\n\n  Text.Whitespace
returnKeyword
 Text.Whitespace
iName.Othernumber0.8516any0.1339string0.0132boolean0.0006void0.0002
 Text.Whitespace
>Operator
 Text.Whitespace
1Literal.Number.Float
\n    Text.Whitespace
?Operator
 Text.Whitespace
'/'Literal.String.Single
 Text.Whitespace
+Operator
 Text.Whitespace
strName.Otherstring0.6947any0.3027number0.0013complex0.0004string[]0.0001
.Punctuation
substrName.Otherstring0.8174any0.1791number0.0016complex0.0007string[]0.0003
(Punctuation
iName.Othernumber0.9128any0.0737string0.0123boolean0.0006void0.0003
)Punctuation
\n    Text.Whitespace
:Operator
 Text.Whitespace
strName.Otherstring0.8918any0.1049number0.0024complex0.0003boolean0.0002
\nText.Whitespace
}Punctuation
\n\nText.Whitespace
Text
/**\n * Create a minimal HTML document.\n *\n * @param {string} title\n * @param {string} body\n * @private\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
createHtmlDocumentName.Otherstring0.8926any0.0513number0.0308boolean0.0200complex0.0014
 Text.Whitespace
(Punctuation
titleName.Otherstring0.8655any0.1306number0.0030complex0.0002boolean0.0001
,Punctuation
 Text.Whitespace
bodyName.Otherany0.6147string0.3701number0.0066Date0.0026HTMLElement0.0014
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
returnKeyword
 Text.Whitespace
'<!DOCTYPE html>\n'Literal.String.Single
 Text.Whitespace
+Operator
\n    Text.Whitespace
'<html lang="en">\n'Literal.String.Single
 Text.Whitespace
+Operator
\n    Text.Whitespace
'<head>\n'Literal.String.Single
 Text.Whitespace
+Operator
\n    Text.Whitespace
'<meta charset="utf-8">\n'Literal.String.Single
 Text.Whitespace
+Operator
\n    Text.Whitespace
'<title>'Literal.String.Single
 Text.Whitespace
+Operator
 Text.Whitespace
titleName.Otherstring0.8780any0.1160number0.0049complex0.0004void0.0003
 Text.Whitespace
+Operator
 Text.Whitespace
'</title>\n'Literal.String.Single
 Text.Whitespace
+Operator
\n    Text.Whitespace
'</head>\n'Literal.String.Single
 Text.Whitespace
+Operator
\n    Text.Whitespace
'<body>\n'Literal.String.Single
 Text.Whitespace
+Operator
\n    Text.Whitespace
'<pre>'Literal.String.Single
 Text.Whitespace
+Operator
 Text.Whitespace
bodyName.Otherstring0.6353any0.3533number0.0070complex0.0010boolean0.0007
 Text.Whitespace
+Operator
 Text.Whitespace
'</pre>\n'Literal.String.Single
 Text.Whitespace
+Operator
\n    Text.Whitespace
'</body>\n'Literal.String.Single
 Text.Whitespace
+Operator
\n    Text.Whitespace
'</html>\n'Literal.String.Single
\nText.Whitespace
}Punctuation
\n\nText.Whitespace
Text
/**\n * Create a directory listener that just 404s.\n * @private\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
createNotFoundDirectoryListenerName.Othervoid0.8951string0.0334any0.0326boolean0.0092complex0.0078
 Text.Whitespace
(Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
returnKeyword
 Text.Whitespace
functionKeyword.Declaration
 Text.Whitespace
notFoundName.Othervoid0.9845Promise<void>0.0030any0.0024Function0.0014Promise<{}>0.0009
 Text.Whitespace
(Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
thisKeyword
.Punctuation
errorName.Othervoid0.9382any0.0460complex0.0024Promise<void>0.0019string0.0017
(Punctuation
404Literal.Number.Float
)Punctuation
\n  Text.Whitespace
}Punctuation
\nText.Whitespace
}Punctuation
\n\nText.Whitespace
Text
/**\n * Create a directory listener that performs a redirect.\n * @private\n */Comment.Multiline
\n\nText.Whitespace
functionKeyword.Declaration
 Text.Whitespace
createRedirectDirectoryListenerName.Othervoid0.6690any0.1551string0.1071complex0.0163boolean0.0077
 Text.Whitespace
(Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
returnKeyword
 Text.Whitespace
functionKeyword.Declaration
 Text.Whitespace
redirectName.Otherstring0.4197any0.2799void0.2452boolean0.0190complex0.0107
 Text.Whitespace
(Punctuation
resName.Otherany0.6300Response0.0990string0.0213Buffer0.0183void0.0046
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
thisKeyword
.Punctuation
hasTrailingSlashName.Otherboolean0.4424any0.2825string0.1441void0.0643complex0.0151
(Punctuation
)Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n      Text.Whitespace
thisKeyword
.Punctuation
errorName.Othervoid0.9453any0.0350complex0.0033string0.0018Error0.0015
(Punctuation
404Literal.Number.Float
)Punctuation
\n      Text.Whitespace
returnKeyword
\n    Text.Whitespace
}Punctuation
\n\n    Text.Whitespace
// get original URLComment.Single
\n    Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
originalUrlName.Otherany0.8731string0.0520complex0.0032number0.0032void0.0019
 Text.Whitespace
=Operator
 Text.Whitespace
parseUrlName.Otherany0.9088complex0.0092void0.0035string0.0033Url0.0015
.Punctuation
originalName.Otherany0.9501string0.0088complex0.0044void0.0036Promise<any>0.0020
(Punctuation
thisKeyword
.Punctuation
reqName.Otherany0.9010string0.0367Request0.0174void0.0055boolean0.0020
)Punctuation
\n\n    Text.Whitespace
// append trailing slashComment.Single
\n    Text.Whitespace
originalUrlName.Otherany0.8581string0.0111complex0.0037Promise<any>0.0034Promise<string>0.0021
.Punctuation
pathName.Otherany0.6736string0.3229complex0.0016number0.0004string[]0.0002
 Text.Whitespace
=Operator
 Text.Whitespace
nullKeyword.Constant
\n    Text.Whitespace
originalUrlName.Otherany0.8678string0.0079complex0.0047PromiseConstructor0.0022Promise<any>0.0015
.Punctuation
pathnameName.Otherstring0.5855any0.4063complex0.0027string[]0.0012number0.0011
 Text.Whitespace
=Operator
 Text.Whitespace
collapseLeadingSlashesName.Otherstring0.6507any0.2958complex0.0151void0.0065string[]0.0033
(Punctuation
originalUrlName.Otherany0.8757string0.0124complex0.0015Url0.0011Promise<string>0.0010
.Punctuation
pathnameName.Otherany0.5545string0.4423complex0.0013number0.0007string[]0.0002
 Text.Whitespace
+Operator
 Text.Whitespace
'/'Literal.String.Single
)Punctuation
\n\n    Text.Whitespace
// reformat the URLComment.Single
\n    Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
locName.Otherany0.5358string0.4205complex0.0098string[]0.0046number0.0031
 Text.Whitespace
=Operator
 Text.Whitespace
encodeUrlName.Otherany0.5930string0.3281complex0.0190string[]0.0044void0.0041
(Punctuation
urlName.Otherany0.9933string0.0020complex0.0005Url0.0002any[]0.0001
.Punctuation
formatName.Otherany0.9803string0.0137complex0.0037number0.0005any[]0.0002
(Punctuation
originalUrlName.Otherany0.5228string0.2345number0.0098complex0.0070T0.0035
)Punctuation
)Punctuation
\n    Text.Whitespace
varKeyword.Declaration
 Text.Whitespace
docName.Otherany0.6896string0.2613number0.0100Buffer0.0015string[]0.0014
 Text.Whitespace
=Operator
 Text.Whitespace
createHtmlDocumentName.Otherany0.5105string0.3873number0.0065complex0.0055RegExp0.0044
(Punctuation
'Redirecting'Literal.String.Single
,Punctuation
 Text.Whitespace
'Redirecting to <a href="'Literal.String.Single
 Text.Whitespace
+Operator
 Text.Whitespace
escapeHtmlName.Otherany0.5122string0.4805complex0.0022number0.0018void0.0004
(Punctuation
locName.Otherstring0.7257any0.2371number0.0083string[]0.0037complex0.0029
)Punctuation
 Text.Whitespace
+Operator
 Text.Whitespace
'">'Literal.String.Single
 Text.Whitespace
+Operator
\n      Text.Whitespace
escapeHtmlName.Otherany0.5700string0.4236complex0.0019number0.0019void0.0002
(Punctuation
locName.Otherstring0.7435any0.2204number0.0112string[]0.0030complex0.0026
)Punctuation
 Text.Whitespace
+Operator
 Text.Whitespace
'</a>'Literal.String.Single
)Punctuation
\n\n    Text.Whitespace
// send redirect responseComment.Single
\n    Text.Whitespace
resName.Otherany0.9964complex0.0006string0.0005Response0.0004any[]0.0001
.Punctuation
statusCodeName.Otherany0.9874number0.0107string0.0014complex0.0001void0.0001
 Text.Whitespace
=Operator
 Text.Whitespace
301Literal.Number.Float
\n    Text.Whitespace
resName.Otherany0.9938string0.0016Response0.0012complex0.0003Buffer0.0002
.Punctuation
setHeaderName.Otherany0.9894void0.0048complex0.0009string0.0008boolean0.0003
(Punctuation
'Content-Type'Literal.String.Single
,Punctuation
 Text.Whitespace
'text/html; charset=UTF-8'Literal.String.Single
)Punctuation
\n    Text.Whitespace
resName.Otherany0.9974string0.0011complex0.0003Response0.0002void0.0001
.Punctuation
setHeaderName.Otherany0.9937void0.0033complex0.0007string0.0006number0.0001
(Punctuation
'Content-Length'Literal.String.Single
,Punctuation
 Text.Whitespace
BufferName.Otherany0.9617string0.0275Buffer0.0033void0.0029number0.0007
.Punctuation
byteLengthName.Otherany0.9874number0.0079void0.0021string0.0014complex0.0003
(Punctuation
docName.Otherstring0.5638any0.3592number0.0567string[]0.0024Buffer0.0013
)Punctuation
)Punctuation
\n    Text.Whitespace
resName.Otherany0.9941string0.0014Response0.0007void0.0004complex0.0003
.Punctuation
setHeaderName.Otherany0.9894void0.0059complex0.0009string0.0008Promise<any>0.0002
(Punctuation
'Content-Security-Policy'Literal.String.Single
,Punctuation
 Text.Whitespace
"default-src 'none'"Literal.String.Double
)Punctuation
\n    Text.Whitespace
resName.Otherany0.9963string0.0016Response0.0003void0.0002complex0.0002
.Punctuation
setHeaderName.Otherany0.9934void0.0035complex0.0007string0.0007boolean0.0001
(Punctuation
'X-Content-Type-Options'Literal.String.Single
,Punctuation
 Text.Whitespace
'nosniff'Literal.String.Single
)Punctuation
\n    Text.Whitespace
resName.Otherany0.9964string0.0016Response0.0003complex0.0002void0.0002
.Punctuation
setHeaderName.Otherany0.9938void0.0031complex0.0008string0.0007boolean0.0001
(Punctuation
'Location'Literal.String.Single
,Punctuation
 Text.Whitespace
locName.Otherstring0.7596any0.2228number0.0034boolean0.0028string[]0.0028
)Punctuation
\n    Text.Whitespace
resName.Otherany0.9959string0.0013complex0.0005Response0.0005void0.0002
.Punctuation
endName.Otherany0.9861void0.0089complex0.0011string0.0008number0.0005
(Punctuation
docName.Otherstring0.5487any0.4225number0.0145string[]0.0016complex0.0008
)Punctuation
\n  Text.Whitespace
}Punctuation
\nText.Whitespace
}Punctuation
\nText.Whitespace
