'use strict'Literal.String.Single
;Punctuation
\n\nText.Whitespace
importKeyword
 Text.Whitespace
sessionName.Otherany0.9380complex0.0266void0.0084string0.0061Promise<void>0.0016
 Text.Whitespace
fromKeyword.Reserved
 Text.Whitespace
'express-session'Literal.String.Single
;Punctuation
\nText.Whitespace
importKeyword
 Text.Whitespace
expressName.Otherany0.9969string0.0011complex0.0009void0.0004boolean0.0001
 Text.Whitespace
fromKeyword.Reserved
 Text.Whitespace
'express'Literal.String.Single
;Punctuation
\nText.Whitespace
importKeyword
 Text.Whitespace
httpName.Otherany0.8536complex0.1066void0.0161string0.0018Function0.0016
 Text.Whitespace
fromKeyword.Reserved
 Text.Whitespace
'http'Literal.String.Single
;Punctuation
\nText.Whitespace
importKeyword
 Text.Whitespace
uuidName.Otherany0.6430string0.3077complex0.0262void0.0035number0.0030
 Text.Whitespace
fromKeyword.Reserved
 Text.Whitespace
'uuid'Literal.String.Single
;Punctuation
\nText.Whitespace
importKeyword
 Text.Whitespace
{Punctuation
 Text.Whitespace
WebSocketServerName.Otherany0.8409void0.0406complex0.0231Promise<void>0.0164Function0.0134
 Text.Whitespace
}Punctuation
 Text.Whitespace
fromKeyword.Reserved
 Text.Whitespace
'../..'Literal.String.Single
;Punctuation
\n\nText.Whitespace
constKeyword.Declaration
 Text.Whitespace
appName.Otherany0.9980complex0.0007void0.0002any[]0.0001string0.0001
 Text.Whitespace
=Operator
 Text.Whitespace
expressName.Otherany0.9988complex0.0004string0.0003void0.0001T0.0001
(Punctuation
)Punctuation
;Punctuation
\nText.Whitespace
constKeyword.Declaration
 Text.Whitespace
mapName.Othercomplex0.9215any0.0596{}0.0023U[]0.0014Error0.0008
 Text.Whitespace
=Operator
 Text.Whitespace
newOperator.Wordany0.5216complex0.3104string0.0371MapConstructor0.0238{}0.0071
 Text.Whitespace
MapName.BuiltinMapConstructor0.9577any0.0372complex0.0005string0.0005DateConstructor0.0003
(Punctuation
)Punctuation
;Punctuation
\n\nText.Whitespace
//Comment.Single
\nText.Whitespace
// We need the same instance of the session parser in express andComment.Single
\nText.Whitespace
// WebSocket server.Comment.Single
\nText.Whitespace
//Comment.Single
\nText.Whitespace
constKeyword.Declaration
 Text.Whitespace
sessionParserName.Otherany0.3918boolean0.3610void0.1369number0.0263string0.0255
 Text.Whitespace
=Operator
 Text.Whitespace
sessionName.Otherany0.9511complex0.0308string0.0037void0.0036number0.0015
(Punctuation
{Punctuation
\n  Text.Whitespace
saveUninitializedName.Otherboolean0.9961string0.0017any0.0008number0.0004false0.0003
:Operator
 Text.Whitespace
falseKeyword.Type
,Punctuation
\n  Text.Whitespace
secretName.Otherstring0.9965any0.0025boolean0.0004number0.0002RegExp0.0001
:Operator
 Text.Whitespace
'$eCuRiTy'Literal.String.Single
,Punctuation
\n  Text.Whitespace
resaveName.Otherboolean0.9984string0.0005any0.0003true0.0002false0.0002
:Operator
 Text.Whitespace
falseKeyword.Type
\nText.Whitespace
}Punctuation
)Punctuation
;Punctuation
\n\nText.Whitespace
//Comment.Single
\nText.Whitespace
// Serve static files from the 'public' folder.Comment.Single
\nText.Whitespace
//Comment.Single
\nText.Whitespace
appName.Otherany0.9883complex0.0062any[]0.0008void0.0004App0.0002
.Punctuation
useName.Otherany0.9845void0.0106Promise<any>0.0008string0.0007complex0.0006
(Punctuation
expressName.Otherany0.9992complex0.0005string0.0001number0.0000any[]0.0000
.Punctuation
staticKeyword
(Punctuation
'public'Literal.String.Single
)Punctuation
)Punctuation
;Punctuation
\nText.Whitespace
appName.Otherany0.9916complex0.0023void0.0004App0.0004any[]0.0003
.Punctuation
useName.Otherany0.9667void0.0266string0.0012Promise<any>0.0007complex0.0006
(Punctuation
sessionParserName.Otherany0.8448string0.0950void0.0278boolean0.0149number0.0072
)Punctuation
;Punctuation
\n\nText.Whitespace
appName.Otherany0.9910complex0.0015void0.0006App0.0004any[]0.0004
.Punctuation
postName.Otherany0.9696complex0.0161void0.0101Promise<any>0.0017string0.0002
(Punctuation
'/login'Literal.String.Single
,Punctuation
 Text.Whitespace
functionKeyword.Declaration
 Text.Whitespace
(Punctuation
reqName.Otherany0.9588Request0.0118void0.0043Buffer0.0042string0.0023
,Punctuation
 Text.Whitespace
resName.Otherany0.9361Response0.0289void0.0058Buffer0.0048complex0.0025
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
//Comment.Single
\n  Text.Whitespace
// "Log in" user and set userId to session.Comment.Single
\n  Text.Whitespace
//Comment.Single
\n  Text.Whitespace
constKeyword.Declaration
 Text.Whitespace
idName.Otherany0.9312string0.0560number0.0076complex0.0035void0.0002
 Text.Whitespace
=Operator
 Text.Whitespace
uuidName.Otherany0.9914string0.0041complex0.0016number0.0005Promise<any>0.0002
.Punctuation
v4Name.Otherany0.9832string0.0055complex0.0031boolean0.0023number0.0022
(Punctuation
)Punctuation
;Punctuation
\n\n  Text.Whitespace
consoleName.OtherConsole0.9997any0.0002void0.0000Function0.0000complex0.0000
.Punctuation
logName.Othervoid0.9982any0.0010complex0.0003Promise<void>0.0001number0.0001
(Punctuation
`Literal.String.Backtick
Updating session for user Literal.String.Backtick
${Literal.String.Interpol
idName.Otherany0.6919string0.2504number0.0433complex0.0076void0.0015
}Literal.String.Interpol
`Literal.String.Backtick
)Punctuation
;Punctuation
\n  Text.Whitespace
reqName.Otherany0.9249Request0.0090complex0.0067void0.0031Promise<any>0.0016
.Punctuation
sessionName.Otherany0.9862complex0.0074string0.0006number0.0005void0.0004
.Punctuation
userIdName.Otherany0.9680string0.0219number0.0074complex0.0020any[]0.0002
 Text.Whitespace
=Operator
 Text.Whitespace
idName.Otherany0.6310string0.2108number0.1407complex0.0116any[]0.0016
;Punctuation
\n  Text.Whitespace
resName.Otherany0.9956complex0.0013Response0.0006string0.0002any[]0.0002
.Punctuation
sendName.Otherany0.9785complex0.0154void0.0036Promise<any>0.0006Promise<void>0.0005
(Punctuation
{Punctuation
 Text.Whitespace
resultName.Otherstring0.9915any0.0054RegExp0.0019number0.0003boolean0.0003
:Operator
 Text.Whitespace
'OK'Literal.String.Single
,Punctuation
 Text.Whitespace
messageName.Otherstring0.9970any0.0022number0.0002RegExp0.0002string[]0.0001
:Operator
 Text.Whitespace
'Session updated'Literal.String.Single
 Text.Whitespace
}Punctuation
)Punctuation
;Punctuation
\nText.Whitespace
}Punctuation
)Punctuation
;Punctuation
\n\nText.Whitespace
appName.Otherany0.9158complex0.0251App0.0051Application0.0024any[]0.0017
.Punctuation
deleteOperator.Word
(Punctuation
'/logout'Literal.String.Single
,Punctuation
 Text.Whitespace
functionKeyword.Declaration
 Text.Whitespace
(Punctuation
requestName.Otherany0.9583Request0.0149string0.0038complex0.0032void0.0023
,Punctuation
 Text.Whitespace
responseName.Otherany0.8886Response0.0351complex0.0207string0.0081void0.0052
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
constKeyword.Declaration
 Text.Whitespace
wsName.Otherany0.9738string0.0072complex0.0066number0.0015void0.0007
 Text.Whitespace
=Operator
 Text.Whitespace
mapName.Otherany0.7167complex0.2719Error0.0013{}0.0008U[]0.0008
.Punctuation
getName.Other
(Punctuation
requestName.Otherany0.9872complex0.0037Request0.0030string0.0012void0.0005
.Punctuation
sessionName.Otherany0.9947complex0.0038string0.0003void0.0003number0.0002
.Punctuation
userIdName.Otherany0.9795string0.0114number0.0064complex0.0022void0.0002
)Punctuation
;Punctuation
\n\n  Text.Whitespace
consoleName.OtherConsole0.9997any0.0001void0.0000Assert0.0000Observable0.0000
.Punctuation
logName.Othervoid0.9979any0.0012complex0.0004Promise<void>0.0001number0.0001
(Punctuation
'Destroying session'Literal.String.Single
)Punctuation
;Punctuation
\n  Text.Whitespace
requestName.Otherany0.9615Request0.0098complex0.0068void0.0009{}0.0004
.Punctuation
sessionName.Otherany0.9930complex0.0034void0.0009boolean0.0003string0.0003
.Punctuation
destroyName.Otherany0.9834void0.0146complex0.0008boolean0.0002Function0.0002
(Punctuation
functionKeyword.Declaration
 Text.Whitespace
(Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
wsName.Otherany0.9744string0.0138number0.0018Error0.0014complex0.0010
)Punctuation
 Text.Whitespace
wsName.Otherany0.9891WebSocket0.0013string0.0012Error0.0007number0.0006
.Punctuation
closeName.Otherany0.9813void0.0141Promise<void>0.0015complex0.0007number0.0005
(Punctuation
)Punctuation
;Punctuation
\n\n    Text.Whitespace
responseName.Otherany0.9168Response0.0306complex0.0135IncomingMessage0.0023string0.0021
.Punctuation
sendName.Otherany0.9566complex0.0235void0.0148Promise<void>0.0013string0.0010
(Punctuation
{Punctuation
 Text.Whitespace
resultName.Otherstring0.9925any0.0050RegExp0.0013number0.0003boolean0.0003
:Operator
 Text.Whitespace
'OK'Literal.String.Single
,Punctuation
 Text.Whitespace
messageName.Otherstring0.9975any0.0017number0.0002RegExp0.0001string[]0.0001
:Operator
 Text.Whitespace
'Session destroyed'Literal.String.Single
 Text.Whitespace
}Punctuation
)Punctuation
;Punctuation
\n  Text.Whitespace
}Punctuation
)Punctuation
;Punctuation
\nText.Whitespace
}Punctuation
)Punctuation
;Punctuation
\n\nText.Whitespace
//Comment.Single
\nText.Whitespace
// Create an HTTP server.Comment.Single
\nText.Whitespace
//Comment.Single
\nText.Whitespace
constKeyword.Declaration
 Text.Whitespace
serverName.Otherany0.9671Server0.0062void0.0017complex0.0008Promise<void>0.0008
 Text.Whitespace
=Operator
 Text.Whitespace
httpName.Otherany0.9777complex0.0181void0.0004Function0.0001Error0.0001
.Punctuation
createServerName.Otherany0.9673Server0.0031complex0.0016void0.0015Promise<any>0.0006
(Punctuation
appName.Otherany0.8506complex0.0259void0.0115Application0.0079App0.0051
)Punctuation
;Punctuation
\n\nText.Whitespace
//Comment.Single
\nText.Whitespace
// Create a WebSocket server completely detached from the HTTP server.Comment.Single
\nText.Whitespace
//Comment.Single
\nText.Whitespace
constKeyword.Declaration
 Text.Whitespace
wssName.Otherany0.9798Response0.0004Error0.0004void0.0004complex0.0003
 Text.Whitespace
=Operator
 Text.Whitespace
newOperator.Wordany0.9900string0.0009complex0.0009void0.0005Error0.0004
 Text.Whitespace
WebSocketServerName.Otherany0.9947void0.0019complex0.0013number0.0002Function0.0001
(Punctuation
{Punctuation
 Text.Whitespace
clientTrackingName.Otherboolean0.9950false0.0014string0.0008true0.0007any0.0007
:Operator
 Text.Whitespace
falseKeyword.Type
,Punctuation
 Text.Whitespace
noServerName.Otherboolean0.9976true0.0007false0.0006any0.0003number0.0003
:Operator
 Text.Whitespace
trueKeyword.Type
 Text.Whitespace
}Punctuation
)Punctuation
;Punctuation
\n\nText.Whitespace
serverName.Otherany0.8876Server0.0130RestServer0.0040OmniSharpServer0.0032ServerInfo0.0029
.Punctuation
onName.Otherany0.9424complex0.0291void0.0148EventEmitter0.0007Promise<void>0.0006
(Punctuation
'upgrade'Literal.String.Single
,Punctuation
 Text.Whitespace
functionKeyword.Declaration
 Text.Whitespace
(Punctuation
requestName.Otherany0.9562Request0.0083void0.0069string0.0030Buffer0.0026
,Punctuation
 Text.Whitespace
socketName.Otherany0.9541void0.0118string0.0057Buffer0.0042number0.0018
,Punctuation
 Text.Whitespace
headName.Otherany0.6288number0.1155string0.1034void0.0384boolean0.0196
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
consoleName.OtherConsole0.9999any0.0000void0.0000Assert0.0000Logger0.0000
.Punctuation
logName.Othervoid0.9986any0.0007complex0.0002Promise<void>0.0001number0.0000
(Punctuation
'Parsing session from request...'Literal.String.Single
)Punctuation
;Punctuation
\n\n  Text.Whitespace
sessionParserName.Othervoid0.9952any0.0023complex0.0009boolean0.0006Promise<void>0.0002
(Punctuation
requestName.Otherany0.9425Request0.0119complex0.0092string0.0038void0.0036
,Punctuation
 Text.Whitespace
{Punctuation
}Punctuation
,Punctuation
 Text.Whitespace
(Punctuation
)Punctuation
 Text.Whitespace
=>Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
ifKeyword
 Text.Whitespace
(Punctuation
!Operator
requestName.Otherany0.9660Request0.0067complex0.0035Buffer0.0013string0.0009
.Punctuation
sessionName.Otherany0.9936complex0.0031string0.0004boolean0.0003void0.0003
.Punctuation
userIdName.Otherany0.9750string0.0118number0.0104complex0.0020void0.0004
)Punctuation
 Text.Whitespace
{Punctuation
\n      Text.Whitespace
socketName.Otherany0.9639WebSocket0.0043complex0.0043void0.0021number0.0014
.Punctuation
writeName.Otherany0.8617void0.1247complex0.0074Promise<void>0.0016Promise<any>0.0006
(Punctuation
'HTTP/1.1 401 Unauthorized\r\n\r\n'Literal.String.Single
)Punctuation
;Punctuation
\n      Text.Whitespace
socketName.Otherany0.9702WebSocket0.0043complex0.0030void0.0014Error0.0010
.Punctuation
destroyName.Otherany0.8560void0.1381complex0.0023Promise<void>0.0006Function0.0003
(Punctuation
)Punctuation
;Punctuation
\n      Text.Whitespace
returnKeyword
;Punctuation
\n    Text.Whitespace
}Punctuation
\n\n    Text.Whitespace
consoleName.OtherConsole0.9997any0.0000void0.0000Observable0.0000Logger0.0000
.Punctuation
logName.Othervoid0.9982any0.0009complex0.0003Promise<void>0.0001number0.0001
(Punctuation
'Session is parsed!'Literal.String.Single
)Punctuation
;Punctuation
\n\n    Text.Whitespace
wssName.Otherany0.9979complex0.0003void0.0001string0.0001number0.0001
.Punctuation
handleUpgradeName.Otherany0.9383void0.0504complex0.0036boolean0.0032string0.0008
(Punctuation
requestName.Otherany0.9532Request0.0106complex0.0078void0.0052string0.0049
,Punctuation
 Text.Whitespace
socketName.Otherany0.9407void0.0140complex0.0086string0.0057number0.0046
,Punctuation
 Text.Whitespace
headName.Otherany0.6781string0.0976number0.0952complex0.0306void0.0210
,Punctuation
 Text.Whitespace
functionKeyword.Declaration
 Text.Whitespace
(Punctuation
wsName.Otherany0.9496string0.0139Buffer0.0090WebSocket0.0024number0.0024
)Punctuation
 Text.Whitespace
{Punctuation
\n      Text.Whitespace
wssName.Otherany0.9990complex0.0001number0.0001void0.0001string0.0001
.Punctuation
emitName.Otherany0.9920complex0.0050void0.0021Promise<any>0.0002Promise<void>0.0002
(Punctuation
'connection'Literal.String.Single
,Punctuation
 Text.Whitespace
wsName.Otherany0.9670string0.0160complex0.0032Buffer0.0023void0.0016
,Punctuation
 Text.Whitespace
requestName.Otherany0.9559complex0.0096string0.0053Request0.0039void0.0036
)Punctuation
;Punctuation
\n    Text.Whitespace
}Punctuation
)Punctuation
;Punctuation
\n  Text.Whitespace
}Punctuation
)Punctuation
;Punctuation
\nText.Whitespace
}Punctuation
)Punctuation
;Punctuation
\n\nText.Whitespace
wssName.Otherany0.9895complex0.0004number0.0003Buffer0.0003string0.0002
.Punctuation
onName.Otherany0.9417complex0.0450void0.0036Promise<void>0.0005Promise<any>0.0005
(Punctuation
'connection'Literal.String.Single
,Punctuation
 Text.Whitespace
functionKeyword.Declaration
 Text.Whitespace
(Punctuation
wsName.Otherany0.9629string0.0105Buffer0.0089complex0.0023number0.0017
,Punctuation
 Text.Whitespace
requestName.Otherany0.9069Request0.0218Buffer0.0116complex0.0071void0.0066
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
constKeyword.Declaration
 Text.Whitespace
userIdName.Otherany0.9345string0.0439number0.0144complex0.0034void0.0008
 Text.Whitespace
=Operator
 Text.Whitespace
requestName.Otherany0.9671complex0.0091Request0.0087Buffer0.0009string0.0008
.Punctuation
sessionName.Otherany0.9920complex0.0053string0.0004number0.0003void0.0003
.Punctuation
userIdName.Otherany0.9923string0.0038number0.0021complex0.0016void0.0001
;Punctuation
\n\n  Text.Whitespace
mapName.Othercomplex0.8026any0.1730U[]0.0030Error0.0013void0.0009
.Punctuation
setName.Other
(Punctuation
userIdName.Otherany0.6719string0.1727number0.1447complex0.0072void0.0010
,Punctuation
 Text.Whitespace
wsName.Otherany0.9702string0.0162Buffer0.0021number0.0019complex0.0011
)Punctuation
;Punctuation
\n\n  Text.Whitespace
wsName.Otherany0.9901string0.0016WebSocket0.0009number0.0006Buffer0.0006
.Punctuation
onName.Otherany0.9589complex0.0307void0.0074string0.0003Promise<void>0.0002
(Punctuation
'message'Literal.String.Single
,Punctuation
 Text.Whitespace
functionKeyword.Declaration
 Text.Whitespace
(Punctuation
messageName.Otherstring0.8747any0.1217number0.0008complex0.0006Buffer0.0004
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
//Comment.Single
\n    Text.Whitespace
// Here we can now use session parameters.Comment.Single
\n    Text.Whitespace
//Comment.Single
\n    Text.Whitespace
consoleName.OtherConsole0.9998any0.0001void0.0000number0.0000complex0.0000
.Punctuation
logName.Othervoid0.9986any0.0009complex0.0002Promise<void>0.0001number0.0001
(Punctuation
`Literal.String.Backtick
Received message Literal.String.Backtick
${Literal.String.Interpol
messageName.Otherstring0.8890any0.1035complex0.0029number0.0011void0.0011
}Literal.String.Interpol
 from user Literal.String.Backtick
${Literal.String.Interpol
userIdName.Otherany0.6635string0.2082number0.0950complex0.0174void0.0098
}Literal.String.Interpol
`Literal.String.Backtick
)Punctuation
;Punctuation
\n  Text.Whitespace
}Punctuation
)Punctuation
;Punctuation
\n\n  Text.Whitespace
wsName.Otherany0.9931string0.0014complex0.0009Buffer0.0005WebSocket0.0004
.Punctuation
onName.Otherany0.9300complex0.0554void0.0099Promise<void>0.0004string0.0003
(Punctuation
'close'Literal.String.Single
,Punctuation
 Text.Whitespace
functionKeyword.Declaration
 Text.Whitespace
(Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n    Text.Whitespace
mapName.Othercomplex0.6994any0.2644U[]0.0043void0.0030{}0.0027
.Punctuation
deleteOperator.Word
(Punctuation
userIdName.Otherany0.5509string0.2683number0.1714complex0.0060void0.0011
)Punctuation
;Punctuation
\n  Text.Whitespace
}Punctuation
)Punctuation
;Punctuation
\nText.Whitespace
}Punctuation
)Punctuation
;Punctuation
\n\nText.Whitespace
//Comment.Single
\nText.Whitespace
// Start the server.Comment.Single
\nText.Whitespace
//Comment.Single
\nText.Whitespace
serverName.Otherany0.9482Server0.0085void0.0033Promise<void>0.0023RestServer0.0012
.Punctuation
listenName.Otherany0.8592void0.0918complex0.0265Promise<void>0.0068Promise<{}>0.0023
(Punctuation
8080Literal.Number.Float
,Punctuation
 Text.Whitespace
functionKeyword.Declaration
 Text.Whitespace
(Punctuation
)Punctuation
 Text.Whitespace
{Punctuation
\n  Text.Whitespace
consoleName.OtherConsole0.9998any0.0001void0.0000Assert0.0000Function0.0000
.Punctuation
logName.Othervoid0.9986any0.0006complex0.0002Promise<void>0.0001Function0.0001
(Punctuation
'Listening on http://localhost:8080'Literal.String.Single
)Punctuation
;Punctuation
\nText.Whitespace
}Punctuation
)Punctuation
;Punctuation
\nText.Whitespace
